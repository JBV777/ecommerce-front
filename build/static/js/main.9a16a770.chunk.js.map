{"version":3,"sources":["config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","Components/SidebarData.js","Components/Navbar.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Home.js","auth/PrivateRoute.js","user/apiUser.js","user/userDashboard.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/ApiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","core/StepOne.js","core/fixedShippingFee.js","core/StepTwo.js","core/StepThree.js","core/StepFour.js","user/Lishi.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","getCart","isActive","history","path","location","pathname","color","withRouter","className","style","to","length","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","quantity","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","id","find","addItem","productId","i","updateItem","reload","shouldRedirect","substring","price","category","moment","createdAt","fromNow","showViewButton","showAddToCart","splice","showRemoveButton","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","undefined","searchSubmit","e","searchMessage","onSubmit","placeholder","c","border","searchedProducts","Navbar","RadioBox","prices","handleFilters","setValue","array","Shop","myFilters","setMyFilters","setCategories","setError","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","handlePrice","key","parseInt","filterBy","priceValues","Home","fenlei","setProductsBySell","setProductsByArrival","PrivateRoute","Component","component","rest","render","props","state","getPurchaseHistory","userId","token","Authorization","Dashboard","subtitle","number","setHistory","init","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","clasName","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","Checkout","products","setRun","f","run","useHistory","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","redir","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusvalues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","pIndex","padding","Profile","update","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","StepOne","shippingFees","StepTwo","StepThree","StepFour","purchaseHistory","h","Lishi","Routes","exact","stepone","steptwo","stepthree","stepfour","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9a16a770.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL\n","import { API } from \"../config\"\n\nexport const signup = user => {\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\nexport const authenticate = (data, next) => {\n    if (typeof window !== 'undefined'){\n        localStorage.setItem('jwt', JSON.stringify(data))\n        next()\n    }\n}\n\nexport const signout = (next) => {\n    if (typeof window !== 'undefined'){\n        localStorage.removeItem('jwt')\n        next()\n        return fetch(`${API}/signout`, {\n            method: \"GET\",\n        })\n        .then(response => {\n            console.log('signout', response)\n        })\n        .catch(err => console.log(err));\n    }\n}\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined'){\n        return false\n    }\n    if (localStorage.getItem('jwt')){\n        return JSON.parse(localStorage.getItem('jwt'))\n    }else{\n        return false\n    }\n}","export const addItem = (item, next) => {\n    let cart = []\n    if (typeof window !== 'undefined'){\n        if (localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n        cart.push({\n            ...item,\n            count: 1\n        })\n\n        cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n                return cart.find(p => p._id === id)\n        })\n\n        localStorage.setItem('cart', JSON.stringify(cart))\n        next()\n    }\n}\n\nexport const itemTotal = () => {\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            return JSON.parse(localStorage.getItem(\"cart\")).length\n        }\n    }\n    return 0\n}\n\nexport const getCart = () => {\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            return JSON.parse(localStorage.getItem(\"cart\"))\n        }\n    }\n    return [];\n}\n\nexport const updateItem = (productId, count) => {\n    let cart = []\n    if (typeof window !== 'undefined'){\n        if (localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.map((product, i) => {\n            if(product._id === productId){\n                cart[i].count = count\n            }\n        })\n\n        localStorage.setItem('cart', JSON.stringify(cart))\n    }\n}\n\nexport const removeItem = (productId) => {\n    let cart = []\n    if (typeof window !== 'undefined'){\n        if (localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n\n        cart.map((product, i) => {\n            if(product._id === productId){\n                cart.splice(i, 1)\n            }\n        })\n\n        localStorage.setItem('cart', JSON.stringify(cart))\n    }\n    window.location.reload()\n    return cart\n}\n\nexport const emptyCart = next => {\n    if (typeof window !== 'undefined'){\n        localStorage.removeItem('cart')\n        next()\n    }\n}","import React, {Fragment} from 'react'\nimport {Link, withRouter} from 'react-router-dom'\nimport {isAuthenticated, signout, signup} from '../auth'\nimport {itemTotal} from './cartHelpers'\nimport './Menu.css'\n\nconst isActive = (history, path) => {\n    if(history.location.pathname === path){\n        return {color: '#ff9900'}\n    }else{\n        return {color: '#ffffff'}\n    }\n}\n\nconst Menu = ({ history }) => (\n    <div>\n        <ul className=\"nav nav-tabs bg-primary\">\n            <li className=\"nav-item\">\n                <Link \n                    className=\"nav-link\" \n                    style={isActive(history, '/')} \n                    to=\"/\"\n                >\n                    Home\n                </Link>\n            </li>\n\n            {/* <li className=\"nav-item\">\n                <Link \n                    className=\"nav-link\" \n                    style={isActive(history, '/shop')} \n                    to=\"/shop\"\n                >\n                    Shop\n                </Link>\n            </li> */}\n\n            <li className=\"nav-item\">\n                <Link \n                    className=\"nav-link\" \n                    style={isActive(history, '/cart')} \n                    to=\"/cart\"\n                >\n                    Cart \n                    <sup>\n                        <small className=\"cart-badge\">{itemTotal()}</small>\n                    </sup>\n                </Link>\n            </li>\n\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                <li className=\"nav-item\">\n                <Link \n                    className=\"nav-link\" \n                    style={isActive(history, '/user/dashboard')} \n                    to=\"/user/dashboard\"\n                >\n                    Dashboard\n                </Link>\n                </li>\n            )}\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                <li className=\"nav-item\">\n                <Link \n                    className=\"nav-link\" \n                    style={isActive(history, '/admin/dashboard')} \n                    to=\"/admin/dashboard\"\n                >\n                    Dashboard\n                </Link>\n                </li>\n            )}\n\n            {!isAuthenticated() && (\n                <Fragment>\n                    <li className=\"nav-item\">\n                        <Link \n                            className=\"nav-link\" \n                            style={isActive(history, '/signin')} \n                            to=\"/signin\"\n                        >\n                            Signin\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link \n                            className=\"nav-link\" \n                            style={isActive(history, '/signup')} \n                            to=\"/signup\"\n                        >\n                            Signup\n                        </Link>\n                    </li>\n                </Fragment>\n            )}\n            \n            {isAuthenticated() && (\n                <li className=\"nav-item\">\n                    <span \n                        className=\"nav-link\" \n                        style={{cursor: 'pointer', color: '#ffffff'}} \n                        onClick={() => \n                            signout(() => {\n                                history.push('/');\n                            })\n                        }\n                    >\n                        Signout\n                    </span>\n                </li>\n            )}\n        </ul>\n    </div>\n)\n\nexport default withRouter (Menu);","import React from 'react'\nimport Menu from \"./Menu\"\nimport \"../styles.css\"\n\nconst Layout = ({\n        title = 'Title',\n        description = 'Description', \n        className, \n        children\n}) => (\n    <div>\n        <Menu />\n        <div className=\"jumbotron\"> \n            <h2>{title}</h2>\n            <p className=\"lead\">{description}</p>\n        </div>\n        <div className={className}>\n            {children}\n        </div>\n    </div>\n);\n\nexport default Layout;","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport Layout from '../core/Layout'\nimport {signup} from '../auth'\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    })\n\n    const {name, email, password, success, error} = values\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value })\n    }\n\n    const clickSubmit = event => {\n        event.preventDefault()\n        setValues({...values, error: false})\n        signup({name, email, password})\n        .then(data => {\n            if (data.error) {\n                setValues({...values, error: data.error, success: false})\n            }else{\n                setValues({\n                    ...values,\n                    name: '',\n                    email: '',\n                    password: '',\n                    error: '',\n                    success: true\n                })\n            }\n        })\n    }\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input \n                    onChange={handleChange('name')} \n                    type=\"text\" \n                    className=\"form-control\" \n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input \n                    onChange={handleChange('email')} \n                    type=\"email\" \n                    className=\"form-control\" \n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input \n                    onChange={handleChange('password')} \n                    type=\"password\" \n                    className=\"form-control\" \n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    )\n\n    const showError = () => (\n        <div \n            className=\"alert alert-danger\" \n            style={{display: error ? '' : 'none'}}\n        >\n            {error}\n        </div>\n        \n    )\n\n    const showSuccess = () => (\n        <div \n            className=\"alert alert-info\"\n            style={{display: success ? '' : 'none'}}\n        >\n            New account is created. Please <Link to=\"/signin\">Signin</Link>\n        </div>\n    )\n\n    return (\n        <Layout \n            title=\"Signup\" \n            description=\"Signup to Node React E-Commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n        </Layout>\n    )\n};\n\nexport default Signup;\n\n","import React, {useState} from 'react'\nimport { Redirect} from 'react-router-dom'\nimport Layout from '../core/Layout'\nimport {signin, authenticate, isAuthenticated } from '../auth'\n\nconst Signin = () => {\n    // const [values, setValues] = useState({\n    //     email: 'ryan@gmail.com',\n    //     password: 'rrrrrr1',\n    //     error: '',\n    //     loading: false,\n    //     redirectToReferrer: false\n    // })\n    const [values, setValues] = useState({\n        email: '',\n        password: '',\n        error: '',\n        loading: false,\n        redirectToReferrer: false\n    })\n\n    const {email, password, loading, error, redirectToReferrer} = values\n    const {user} = isAuthenticated()\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value })\n    }\n\n    const clickSubmit = event => {\n        event.preventDefault()\n        setValues({...values, error: false, loading: true})\n        signin({email, password})\n        .then(data => {\n            if (data.error) {\n                setValues({...values, error: data.error, loading: false})\n            }else{\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    })\n                })\n            }\n        })\n    }\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input \n                    onChange={handleChange('email')} \n                    type=\"email\" \n                    className=\"form-control\" \n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input \n                    onChange={handleChange('password')} \n                    type=\"password\" \n                    className=\"form-control\" \n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    )\n\n    const showError = () => (\n        <div \n            className=\"alert alert-danger\" \n            style={{display: error ? '' : 'none'}}\n        >\n            {error}\n        </div>\n        \n    )\n\n    const showLoading = () => \n        loading && (\n            <div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>\n        )\n    \n    const redirectUser = () => {\n        if (redirectToReferrer){\n            if (user && user.role === 1){\n                return <Redirect to=\"/admin/dashboard\"/>\n            }else{\n                return <Redirect to=\"/user/dashboard\"/>\n            }\n        }\n        if (isAuthenticated()){\n            return <Redirect to=\"/\"/>\n        }\n    }\n\n    return (\n        <Layout \n            title=\"Signin\" \n            description=\"Signin to Node React E-Commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    )\n};\n\nexport default Signin;\n\n","import {API} from \"../config\"\nimport queryString from \"query-string\"\n\nexport const getProducts = (sortBy) => {\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n    const data = {\n        limit, skip, filters\n    }\n    return fetch(`${API}/products/by/search`, {\n        method: \"POST\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\nexport const list = params => {\n    const query = queryString.stringify(params)\n    console.log('query', query)\n    return fetch(`${API}/products/search?${query}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const read = (productId) => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const listRelated = productId => {\n    return fetch(`${API}/products/related/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`${API}/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`${API}/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(paymentData)\n    })\n    .then(response => {\n        console.log(response)\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const createOrder = (userId, token, createOrderData) => {\n    return fetch(`${API}/order/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({order: createOrderData})\n\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}","import React from 'react'\nimport {API} from '../config'\n\nconst ShowImage = ({item, url}) => (\n    <div className=\"product-img\">\n        <img \n            src={`${API}/${url}/photo/${item._id}`} \n            alt={item.name} \n            className=\"mb-3\" \n            style={{maxHeight:'100%', maxWidth:'100%'}}\n        />\n    </div>\n)\n\nexport default ShowImage;","import React, { useState } from 'react'\nimport {Link, Redirect} from 'react-router-dom'\nimport ShowImage from './ShowImage'\nimport moment, { updateLocale } from 'moment'\nimport {addItem, updateItem, removeItem} from './cartHelpers'\n\nconst Card = ({\n        product, \n        showViewProductButton = true, \n        showAddToCartButton = true,\n        cartUpdate = false,\n        showRemoveProductButton = false\n}) => {\n    const [redirect, setRedirect] = useState(false)\n    const [count, setCount] = useState(product.count)\n\n\n    const showViewButton = (showViewProductButton) => {\n        return (\n            showViewProductButton && (\n                <Link to={`/product/${product._id}`} className=\"mr-2\">\n                    <button className=\"btn btn-outline-primary mr-2 mb-2\">\n                        View Product\n                    </button>\n                </Link>\n            )\n        )\n    }\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true)\n        })\n    }\n\n    const shouldRedirect = redirect => {\n        if (redirect){\n            return <Redirect to=\"/cart\"/>\n        }\n    }\n\n    const showAddToCart = (showAddToCartButton) => {\n        return (\n            showAddToCartButton && (\n            <button \n                    onClick={addToCart} \n                    className=\"btn btn-outline-warning mt-2 mb-2\"\n                >\n                    Add to cart\n                </button>\n            )\n        )\n    }\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n            showRemoveProductButton && (\n            <button \n                    onClick={() => removeItem(product._id)} \n                    className=\"btn btn-outline-danger mt-2 mb-2\"\n                >\n                    Remove Product\n                </button>\n            )\n        )\n    }\n\n    const showStock = (quantity) => {\n        return quantity > 0 ? (\n                <span className=\"badge badge-primary badge-pill\">In Stock</span>\n            ) : (\n                <span className=\"badge badge-primary badge-pill\">Out of Stock</span>\n            )\n    }\n\n    const handleChange = productId => event => {\n        setCount(event.target.value < 1 ? 1 : event.target.value)\n        if(event.target.value >= 1){\n            updateItem(productId, event.target.value)\n        }\n        window.location.reload()\n    }\n\n    const showCartUpdateOptions = cartUpdate => {\n        return cartUpdate && <div>\n            <div className=\"input-group-mb-3\">\n                <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                        Adjust Quantity\n                    </span>\n                </div>\n                <input \n                    type=\"number\" \n                    className=\"form-control\" \n                    value={count} \n                    onChange={handleChange(product._id)}\n                />\n\n            </div>\n        </div>\n    }\n\n    return (\n            <div className=\"card\">\n                <div className=\"card-header name\">{product.name}</div>\n                <div className=\"card-body\">\n                    {shouldRedirect(redirect)}\n                <ShowImage item={product} url=\"product\"/>\n                    <p className=\"lead mt-2\">\n                        {product.description.substring(0, 100)}\n                    </p>\n                    <p className=\"black-10\">\n                        ${product.price}\n                    </p>\n                    <p className=\"black-9\">\n                        Category: {product.category && product.category.name}\n                    </p>\n                    <p className=\"black-8\">\n                        Added on {moment(product.createdAt).fromNow()}\n                    </p>\n\n                    {showStock(product.quantity)}\n                    <br />\n\n                    {showViewButton(showViewProductButton)}\n\n                    {showAddToCart(showAddToCartButton)}\n\n                    {showRemoveButton(showRemoveProductButton)}\n\n                    {showCartUpdateOptions(cartUpdate)}\n                </div>\n            </div>\n    )\n}\n\nexport default Card;\n","import React, {useState, useEffect} from 'react'\nimport {getCategories, list} from './apiCore'\nimport Card from './Card'\nimport * as FaIcons from 'react-icons/fa';\n\nconst Search = () => {\n    const [data, setData] = useState ({\n        categories: [],\n        category: '',\n        search: '',\n        results: [],\n        searched: false\n    })\n\n    const {categories, category, search, results, searched} = data\n\n    const loadCategories = () => {\n        getCategories().then(data => {\n            if(data.error){\n                console.log(data.error)\n            }else{\n                setData({...data, categories: data})\n            }\n        })\n    }\n\n    useEffect(() => {\n        loadCategories()\n    }, [])\n\n    const searchData = () => {\n        if (search){\n            list({search: search || undefined, category: category})\n                .then(response => {\n                    if (response.error){\n                        console.log(response.error)\n                    }else{\n                        setData({...data, results: response, searched: true})\n                    }\n                })\n        }\n    }\n\n    const searchSubmit = (e) => {\n        e.preventDefault()\n        searchData()\n    }\n\n    const handleChange = name => event => {\n        setData({...data, [name]: event.target.value, searched: false})\n    }\n\n    const searchMessage = (searched, results) => {\n        if (searched && results.length > 0){\n            return `Found ${results.length} products`\n        }\n\n        if (searched && results.length < 1){\n            return `No products found`\n        }\n    }\n\n    const searchedProducts = (results = []) => {\n        return (\n            <div>\n                <h2 className=\"mt-4-mb-4\">\n                    {searchMessage(searched, results)}\n                </h2>\n                <div className=\"row\">\n                    {results.map((product, i) => (\n                        <Card key={i} product = {product}/>\n                    ))}\n                </div>\n            </div>\n        )\n    }\n\n    const searchForm = () => (\n        <form onSubmit={searchSubmit}>\n            <span className=\"input-group-text\">\n                <div className=\"input-group input-group-lg\">\n                    {/* Select All, Node, React and etc */}\n                    \n                    <input\n                        type=\"search\"\n                        className=\"form-control\"\n                        onChange={handleChange(\"search\")}\n                        placeholder=\"Search by name\"\n                    />\n                    \n                    <div className=\"input-group-prepend\">\n                        <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\n                            <option value=\"All\">All</option>\n                            {categories.map((c, i) => (\n                                <option key={i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n                </div>\n                <div className=\"btn input-group-append\" style={{border: 'none'}}>\n                    <button className=\"btn btn-info\"><FaIcons.FaSearch /></button>\n                </div>\n            </span>\n        </form>\n    )\n\n    return (\n    <div className=\"row\">\n        <div className=\"container mb-3\">\n            {searchForm()}\n        </div>\n        <div className=\"container-fluid mb-3\">\n            {searchedProducts(results)}\n        </div>\n    </div>\n    )\n}\n\nexport default Search","import React from 'react';\nimport * as FaIcons from 'react-icons/fa';\nimport * as AiIcons from 'react-icons/ai';\nimport * as IoIcons from 'react-icons/io';\n\nexport const SidebarData = [\n  {\n    title: 'Home',\n    path: '/',\n    icon: <AiIcons.AiFillHome />,\n    cName: 'nav-text'\n  },\n  {\n    title: 'Shop',\n    path: '/shop',\n    icon: <FaIcons.FaShopware />,\n    cName: 'nav-text'\n  },\n  {\n    title: 'Cart',\n    path: '/cart',\n    icon: <FaIcons.FaCartPlus />,\n    cName: 'nav-text'\n  },\n  {\n    title: 'Dashboard',\n    path: '/user/dashboard',\n    icon: <FaIcons.FaDashcube />,\n    cName: 'nav-text'\n  }\n  // {\n  //   title: 'Locations',\n  //   path: '/user/dashboard',\n  //   icon: <FaIcons.FaDashcube />,\n  //   cName: 'nav-text'\n  // },\n  // {\n  //   title: 'Contact',\n  //   path: '/user/dashboard',\n  //   icon: <FaIcons.FaDashcube />,\n  //   cName: 'nav-text'\n  // },\n  // {\n  //   title: 'Signout',\n  //   path: '/user/dashboard',\n  //   icon: <FaIcons.FaDashcube />,\n  //   cName: 'nav-text'\n  // }\n];","import React, { useState } from 'react';\nimport * as FaIcons from 'react-icons/fa';\nimport * as AiIcons from 'react-icons/ai';\nimport { Link } from 'react-router-dom';\nimport { SidebarData } from './SidebarData';\nimport './Navbar.css';\nimport { IconContext } from 'react-icons';\nimport Menu from '../core/Menu';\n\nfunction Navbar() {\n  const [sidebar, setSidebar] = useState(false);\n\n  const showSidebar = () => setSidebar(!sidebar);\n\n  const nothing = () => {\n    window.location.reload()\n  }\n\n  return (\n    <>\n      <IconContext.Provider value={{ color: '#fff' }}>\n        {/* Top bar */}\n        <div className='navbar'>\n          <Menu />\n        </div>\n        \n        {/* Sidebar */}\n        {/* <nav className={sidebar ? 'nav-menu active' : 'nav-menu'}>\n          <ul className='nav-menu-items' onClick={nothing}>\n            <li className='navbar-toggle'>\n              <Link to='#' className='menu-bars'>\n                <AiIcons.AiOutlineClose />\n              </Link>\n            </li>\n            {SidebarData.map((item, index) => {\n              return (\n                <li key={index} className={item.cName}>\n                  <Link to={item.path}>\n                    {item.icon}\n                    <span>{item.title}</span>\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </nav> */}\n      </IconContext.Provider>\n    </>\n  );\n}\n\nexport default Navbar;","import React, {useState, useEffect, Fragment} from 'react';\n\nconst RadioBox = ({prices, handleFilters}) => {\n    const [value, setValue] = useState(0)\n\n    const handleChange = (event) => {\n        handleFilters(event.target.value)\n        setValue(event.target.value)\n\n    }\n\n    return prices.map((p, i) => (\n        <div key={i}>\n            <input \n                onChange={handleChange} \n                value={`${p._id}`} \n                name={p}\n                type=\"radio\" \n                className=\"mr-2 ml-4\"\n            />\n            <label className=\"form-check-label\">{p.name}</label>\n        </div>\n    ))\n}\n\nexport default RadioBox;","export const prices = [\n    {\n        _id: 0,\n        name: \"Any\",\n        array: []\n    },\n    {\n        _id: 1,\n        name: \"$0 to $9\",\n        array: [0, 9]\n    },\n    {\n        _id: 2,\n        name: \"$10 to $19\",\n        array: [10, 19]\n    },\n    {\n        _id: 3,\n        name: \"$20 to $29\",\n        array: [20, 29]\n    },\n    {\n        _id: 4,\n        name: \"$30 to $39\",\n        array: [30, 39]\n    },\n    {\n        _id: 5,\n        name: \"more than $40\",\n        array: [40, 99]\n    }\n]","import React, {useState, useEffect} from 'react'\nimport Layout from './Layout'\nimport Card from './Card'\nimport {getCategories, getFilteredProducts } from './apiCore'\nimport Checkbox from './Checkbox'\nimport RadioBox from './RadioBox'\nimport {prices} from './fixedPrices'\nimport {genres} from './fixedGenres'\n\nconst Shop = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: []}\n    })\n    const [categories, setCategories] = useState([])\n    const [error, setError] = useState(false)\n    const [limit, setLimit] = useState(6)\n    const [skip, setSkip] = useState(0)\n    const [size, setSize] = useState(0)\n    const [filteredResults, setFilteredResults] = useState([])\n    \n\n\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setCategories(data)\n            }\n        })\n\n    }\n\n    const loadFilteredResults = (newFilters) => {\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setFilteredResults(data.data)\n                setSize(data.size)\n                setSkip(0)\n            }\n        })\n    }\n\n    const loadMore = () => {\n        let toSkip = skip + limit\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setFilteredResults([...filteredResults, ...data.data])\n                setSize(data.size)\n                setSkip(toSkip)\n            }\n        })\n    }\n\n    const loadMoreButton = () => {\n        return (\n            size > 0 && size >= limit && (\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">Load more</button>\n            )\n        )\n    }\n\n    useEffect(() => {\n       init()\n       loadFilteredResults(skip, limit, myFilters.filters)\n    }, [])\n\n    const handleFilters = (filters, filterBy) => {\n        const newFilters = {...myFilters}\n        newFilters.filters[filterBy] = filters\n\n        if (filterBy == \"price\"){\n            let priceValues = handlePrice(filters)\n            newFilters.filters[filterBy] = priceValues\n\n        }\n        console.log(myFilters.filters)\n        loadFilteredResults(myFilters.filters)\n        setMyFilters(newFilters)\n    }\n\n    const handlePrice = value => {\n        const data = prices\n        console.log(data)\n\n        let array = []\n\n        for (let key in data){\n            if (data[key]._id === parseInt(value)){\n                array = data[key].array\n            }\n        }\n        return array;\n    }\n\n    const testing = () => {\n        console.log(\"hello\")\n    }\n\n\n    return (\n        <Layout \n            title=\"Welcome\" \n            description=\"Please select your favorite movies\" \n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-4\">\n                    <h4>What is your price range?</h4>\n                    <div>\n                        <RadioBox \n                            prices={prices} \n                            handleFilters={filters =>\n                                handleFilters(filters, 'price')}\n                        />\n                    </div>\n                </div>\n                <div className=\"col-8\">\n                    <h2 className=\"mb-4\">Products</h2>\n                    <div className=\"row\">\n                        {filteredResults.map((product, i) => (\n                            <div key={i} className=\"col-4 mb-3\">\n                                <Card key={i} product={product} />\n                            </div>\n                        ))}\n                    </div>\n                    <hr/>\n                    {loadMoreButton()}\n                </div>\n            </div>\n\n        </Layout>\n    )\n}\n\nexport default Shop","import React, {useState, useEffect} from 'react'\nimport Layout from './Layout'\nimport {getCategories, getProducts, getFilteredProducts} from './apiCore'\nimport Card from './Card'\nimport Search from './Search'\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from '../Components/Navbar'\nimport {handleFilters} from './Shop.js'\nimport Shop from './Shop.js'\nimport {genres} from './fixedGenres'\n\n\n\nconst Home = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: [], fenlei: []}\n    })\n    const [productsBySell, setProductsBySell] = useState([])\n    const [productsByArrival, setProductsByArrival] = useState([])\n    const [filteredResults, setFilteredResults] = useState([])\n\n    \n    const [listCategories, setProductsByCategories] = useState([])\n    const [error, setError] = useState(false)\n    const [skip, setSkip] = useState(0)\n    const [size, setSize] = useState(0)\n    const [limit, setLimit] = useState(100)\n\n    const loadFilteredResults = (newFilters) => {\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setFilteredResults(data.data)\n                setSize(data.size)\n                setSkip(0)\n            }\n        })\n    }\n    \n    const loadProductsBySell = () => {\n        getProducts('sold').then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setProductsBySell(data)\n            }\n        })\n    }\n\n    const loadProductsByArrival = () => {\n        getProducts('createdAt').then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setProductsByArrival(data)\n            }\n        })\n    }\n\n    useEffect(() => {\n        loadProductsByArrival()\n        loadProductsBySell()\n        // loadFilteredResults(/*skip, limit, */myFilters.filters)\n        loadFilteredResults({\n            price: []\n        })\n    }, [])\n\n    return (\n        <Layout \n            title=\"Welcome\" \n            description=\"Please select your favorite movies\" \n            className=\"container-fluid\"\n        >\n            <Search />\n        {/* <div className=\"col-4\">\n                <h4>What is your price range?</h4>\n                <div>\n                    <RadioBox \n                        prices={prices} \n                        handleFilters={filters =>\n                            handleFilters(filters, 'price')}\n                    />\n                </div>\n        </div> */}\n        <h2 className=\"mb-4 col-8\">All Products</h2>\n            <div className=\"row\">  \n                {filteredResults.map((product, i) => (\n                    <div key={i} className=\"col-4 mb-3\">\n                        <Card key={i} product={product} />\n                    </div>\n                ))}\n            </div>\n        </Layout>\n    )\n}\nexport default Home;","import React, {Component}from 'react'\nimport {Route, Redirect} from 'react-router-dom'\nimport {isAuthenticated} from './index'\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} render={props => \n        isAuthenticated() ? (\n            <Component {...props}/>\n    ) : (\n        <Redirect \n            to={{\n                pathname: '/signin', \n                state: {from: props.location}\n            }}\n        />\n    )\n        }\n        />\n);\n\nexport default PrivateRoute;","import {API} from \"../config\"\n\nexport const read = (userId, token) => {\n    return fetch(`${API}/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const update = (userId, token, user) => {\n    return fetch(`${API}/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(user)\n\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const updateUser = (user, next) => {\n    if (typeof window !== 'undefined'){\n        if(localStorage.getItem('jwt')){\n            let auth = JSON.parse(localStorage.getItem('jwt'))\n            auth.user = user \n            localStorage.setItem('jwt', JSON.stringify(auth))\n            next()\n        }\n    }\n}\n\nexport const getPurchaseHistory = (userId, token) => {\n    return fetch(`${API}/orders/by/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}","import React, { useState, useEffect } from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\nimport {getPurchaseHistory} from './apiUser'\nimport moment from 'moment'\n\nconst Dashboard = ({\n    title,\n    subtitle,\n    number,\n    color\n}) => {\n    const [history, setHistory] = useState([])\n\n    const {\n        user: {_id, name, email, role}\n    } = isAuthenticated()\n    const token = isAuthenticated().token\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            if(data.error){\n                console.log(data.error)\n            }else{\n                setHistory(data)\n            }\n        })\n    }\n\n    useEffect(() => {\n        init(_id, token)\n    }, [])\n\n    const userLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">\n                            My Cart\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>\n                            Update Profile\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to={`/history/${_id}`}>\n                            Purchase History\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {name}\n                    </li>\n                    <li className=\"list-group-item\">\n                        {email}\n                    </li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? 'Admin' : 'Registered User'}\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n\n// const purchaseHistory = (history) => {\n//     return (\n//         <div className=\"card mb-5\">\n//             <h3 className=\"card-header\">Purchase History</h3>\n//             <ul className=\"list-group\">\n//                 <li className=\"list-group-item\">\n//                     {history.map((h, i) => {\n//                         return (\n//                             <div>\n//                                 <hr/>\n//                                 {h.products.map((p, i) => {\n//                                     return (\n//                                         <div key={i}>\n//                                             <h6>Product name: {p.name}</h6>\n//                                             <h6>Product price: ${p.price}</h6>\n//                                             <h6>\n//                                                 Product date: {\" \"}\n//                                                 {moment(p.createdAt).fromNow()}\n//                                             </h6>\n\n//                                         </div>\n//                                     )\n//                                 })}\n//                             </div>\n//                         )\n//                     })}\n//                 </li>\n//             </ul>\n//         </div>\n//     )\n// }\n\n    return (\n        <Layout \n            title=\"Dashboard\" \n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">\n                    {userLinks()}\n                </div>\n                {/* <div className=\"col-9\">\n                    {userInfo()}\n                </div> */}\n                <div className=\"col-8\">\n                    <h2>User Information</h2>\n                    <p>Name: {name}</p>\n                    <p>Email: {email}</p>\n                    <p>Role: '{role === 1 ? 'Admin' : 'Registered User'}'</p>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default Dashboard;","import React, {Component}from 'react'\nimport {Route, Redirect} from 'react-router-dom'\nimport {isAuthenticated} from './index'\n\nconst AdminRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} render={props => \n        isAuthenticated() && isAuthenticated().user.role === 1? (\n            <Component {...props}/>\n        ) : (\n            <Redirect \n                to={{\n                    pathname: '/signin', \n                    state: {from: props.location}\n                }}\n            />\n    )\n        }\n        />\n);\n\nexport default AdminRoute;","import React from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\n\nconst AdminDashboard = () => {\n\n    const {\n        user: {_id, name, email, role}\n    } = isAuthenticated()\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/category\">\n                            Create Category\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/product\">\n                            Create Product\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/admin/orders\">\n                            View Orders\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/admin/products\">\n                            Manage Products\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {name}\n                    </li>\n                    <li className=\"list-group-item\">\n                        {email}\n                    </li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? 'Admin' : 'Registered User'}\n                    </li>\n                </ul>\n            </div>\n        )\n    }\n\n    return (\n        <Layout \n            title=\"Dashboard\" \n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">\n                    {adminLinks()}\n                </div>\n                <div className=\"col-9\">\n                    {adminInfo()}\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default AdminDashboard;","import { API } from \"../config\"\n\nexport const createCategory = (userId, token, category) => {\n    return fetch(`${API}/category/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\nexport const createProduct = (userId, token, product) => {\n    return fetch(`${API}/product/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept:  'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const listOrders = (userId, token) => {\n    return fetch(`${API}/order/list/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept:  'application/json',\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getStatusValues = (userId, token) => {\n    return fetch(`${API}/order/status-values/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept:  'application/json',\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({status, orderId})\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\n/*\n    To perform crud on product\n    get all products\n    get a single product\n    update single product\n    delete single product\n*/\n\nexport const getProducts = () => {\n    return fetch(`${API}/products?limit=undefined`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept:  'application/json',\n            \"Content-Type\": 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const getProduct = productId => {\n    console.log(productId)\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const updateProduct = (productId, userId, token, product) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept:  'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n    .then(response => {\n        return response.json()\n    })\n    .catch(err => console.log(err))\n}","import React, {useState} from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\nimport {createCategory} from './ApiAdmin'\n\nconst AddCategory = () => {\n    const [name, setName] = useState('')\n    const [error, setError] = useState(false)\n    const [success, setSuccess] = useState(false)\n\n    //destructive user and token from localstorage\n    const {user, token} = isAuthenticated()\n\n    const handleChange = (e) => {\n        setError('')\n        setName(e.target.value)\n    }\n\n    const clickSubmit = (e) => {\n        e.preventDefault()\n        setError('')\n        setSuccess(false)\n        //make request ot api to create category\n        createCategory(user._id, token, {name})\n            .then(data => {\n                if (data.error) {\n                    setError(true)\n                }else{\n                    setError('')\n                    setSuccess(true);\n                }\n            })\n\n    }\n\n    const newCategoryFrom = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label clasName=\"text-muted\">Name</label>\n                <input \n                    type=\"text\" \n                    className=\"form-control\" \n                    onChange={handleChange}\n                    value={name}\n                    autoFocus\n                    required\n                />\n            </div>\n            <button className=\"btn btn-outline-primary\"> Create Category</button>\n        </form>\n    )\n\n    const showSuccess = () => {\n            if (success){\n                return <h3 className=\"text-success\">{name} is created</h3>\n            }\n    }\n\n    const showError = () => {\n        if (error){\n            return <h3 className=\"text-danger\">Category should be unique</h3>\n        }\n    }\n\n    const goBack = () =>\n        <div className=\"mt-5\">\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\n                Back to Dashboard\n            </Link>\n        </div>\n\n    return (\n        <Layout \n            title=\"Add a new category\" \n            description={`G'day ${user.name}, ready to add a new category`}\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {showSuccess()}\n                {showError()}\n                {newCategoryFrom()}\n                {goBack()}\n            </div>\n        </Layout>\n    )\n}\n\nexport default AddCategory;","import React, {useState, useEffect} from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\nimport {createProduct, getCategories} from './ApiAdmin'\n\nconst AddProduct = () => {\n\n    const [values, setValues] = useState({\n        name: '',\n        description: '',\n        price: '',\n        categories: [],\n        category: '',\n        shipping: '',\n        quantity: '',\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        redirectToProfile: false,\n        formData: ''\n    })\n\n    const{ user, token} = isAuthenticated();\n\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values\n\n    //load categories and set form data\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error){\n                setValues({...values, error: data.error})\n            }else{\n                setValues({...values, categories: data, formData: new FormData()})\n            }\n        })\n\n    }\n\n    useEffect(() => {\n        init()\n    }, [])\n\n    const handleChange = name => event => {\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\n        formData.set(name, value)\n        setValues({...values, [name]: value})\n    }\n\n    const clickSubmit = (event) => {\n        event.preventDefault()\n        setValues({...values, error: '', loading: true})\n        createProduct(user._id, token, formData)\n            .then(data => {\n                if(data.error){\n                    setValues({...values, error: data.error})\n                }else{\n                    setValues({\n                        ...values, \n                        name:'', \n                        description:'', \n                        photo: '', \n                        price: '', \n                        quantity:'',\n                        loading: false,\n                        createdProduct: data.name\n                    })\n                }\n\n            })\n    }\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange('photo')} \n                        type=\"file\" \n                        name=\"photo\" \n                        accept=\"image/*\" \n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input \n                    onChange={handleChange('name')} \n                    type=\"text\" \n                    className=\"form-control\" \n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea \n                    onChange={handleChange('description')} \n                    className=\"form-control\" \n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input \n                    onChange={handleChange('price')} \n                    type=\"number\" \n                    className=\"form-control\" \n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select \n                    onChange={handleChange('category')} \n                    className=\"form-control\" \n                >\n                    <option>Please select</option>\n                        {categories && \n                            categories.map((c, i) => (\n                                <option key = {i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select \n                    onChange={handleChange('shipping')} \n                    className=\"form-control\" \n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input \n                    onChange={handleChange('quantity')} \n                    type=\"number\" \n                    className=\"form-control\" \n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n\n        </form>\n    )\n\n    const showError =() => (\n        <div \n            className=\"alert alert-danger\" \n            style={{display: error ? '' : 'none'}}\n        >\n            {error}\n        </div>\n    )\n\n    const showSuccess =() => (\n        <div \n            className=\"alert alert-info\" \n            style={{display: createdProduct ? '' : 'none'}}\n        >\n            <h2>{`${createdProduct}`} is created</h2>\n        </div>\n    )\n\n    const showLoading =() => (\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>\n                    Loading ...\n                </h2>\n            </div>)\n    )\n\n    return (\n        <Layout \n            title=\"Add a new product\" \n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {showLoading()}\n                {showSuccess()}\n                {showError()}\n                {newPostForm()}\n            </div>\n        </Layout>\n    )\n}\n\nexport default AddProduct","import React, {useState, useEffect} from 'react'\nimport Layout from './Layout'\nimport {read, listRelated } from './apiCore'\nimport Card from './Card'\n\n\nconst Product = props => {\n    const [product, setProduct] = useState({})\n    const [relatedProduct, setRelatedProduct] = useState([])\n    const [error, setError] = useState(false)\n\n    const loadSingleProduct = productId => {\n        read(productId).then(data => {\n            if (data.error){\n                setError(data.error)\n            }else{\n                setProduct(data)\n                //fetch related products\n                listRelated(data._id).then(data => {\n                    if (data.error){\n                        setError(data.error)\n                    }else{\n                        setRelatedProduct(data);\n                    }\n                })\n            }\n        })\n    }\n\n    useEffect(() => {\n        const productId = props.match.params.productId\n        loadSingleProduct(productId)\n    }, [props])\n\n    return (\n        <Layout \n            title={product && product.name}\n            description={product && product.description && product.description.substring(0, 100)}\n            className=\"container-fluid\"\n        >\n\n           <div className=\"row\">\n                <div className=\"col-8\">\n                    {\n                        product &&\n                        product.description&&\n                        <Card product={product} showViewProductButton={false}\n                        />\n                        }\n                </div>\n                <div className=\"col-4\">\n                    <h4>Related products</h4>\n                    {relatedProduct.map((p, i) => (\n                        <div className=\"mb-3\" key={i}>\n                            <Card product={p}/>\n                        </div>\n                    ))}\n                </div>\n           </div>\n        </Layout>\n    )\n}\n\nexport default Product;","import React, {useState, useEffect} from 'react'\nimport Layout from './Layout'\nimport {getProducts, getBraintreeClientToken, processPayment, createOrder} from './apiCore'\nimport { emptyCart } from './cartHelpers'\nimport Card from './Card'\nimport { isAuthenticated } from '../auth'\nimport { Link, Redirect, useHistory} from 'react-router-dom'\nimport DropIn from \"braintree-web-drop-in-react\"\n\nconst Checkout = ({products, setRun = f => f, run = undefined}) => {\n    const history = useHistory()\n    const [data, setData] = useState ({\n        loading: false,\n        success: false,\n        clientToken: null,\n        error: '',\n        instance: {},\n        address: \"\"\n    })\n\n    const userId = isAuthenticated() && isAuthenticated().user._id\n    const token = isAuthenticated() && isAuthenticated().token\n\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(data => {\n            if(data.error){\n                console.log(data.error);\n                setData({...data, error: data.error})\n            }else{\n                setData({ clientToken: data.clientToken})\n            }\n        })\n    }\n\n    useEffect(() => {\n        getToken(userId, token)\n    }, [])\n\n    const handleAddress = event => {\n        setData({...data, address: event.target.value})\n    }\n\n    const getTotal = () => {\n        return products.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0)\n    }\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <div>\n                {showDropIn()}\n            </div>\n        ) : (\n            <Link to=\"/signin\">\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\n            </Link>\n        )\n    }\n\n    let deliveryAddress = data.address\n\n    const buy = () => {\n        setData({ loading: true})\n        // send nonce to your server\n        // nonce = data.instance.requestPaymentMethod\n        let nonce;\n        let getNonce = data.instance.requestPaymentMethod()\n            .then(data => {\n                console.log(data)\n                nonce = data.nonce\n                //once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n                //and also total to be charged\n                // console.log(\n                //     'send nonce and total to process: ', \n                //     nonce, \n                //     getTotal(products)\n                // )\n                const paymentData = {\n                    paymentMethodNonce: nonce,\n                    amount: getTotal(products)\n                }\n\n                console.log(\"Payment data is:\"+paymentData)\n\n                processPayment(userId, token, paymentData)\n                    .then(response => {                       \n                       //empty cart\n                        // create order\n                        console.log(response)\n                        const createOrderData = {\n                            products: products,\n                            transaction_id: response.transaction.id,\n                            amount: response.transaction.amount,\n                            address: deliveryAddress\n                        }\n\n\n\n                       createOrder(userId, token, createOrderData)\n                       // setData({...data, success: response.success})\n                       setData({loading: false, success: true})\n                       emptyCart(() => {\n                        //    window.location.reload()\n                           setRun(!run)\n                           console.log('payment success and empty cart')\n                           setData({ \n                               loading: false,\n                               success: true\n                            })\n                       })\n\n                    })\n                    .catch(error => {\n                        console.log(error)\n                        setData({loading: false})\n                     })\n            })\n            .catch(error => {\n                // console.log('droppin error: ', error)\n                setData({\n                    ...data, \n                    error: error.message\n                })\n            })\n\n    }\n\n    const redir = () => {\n        history.push(`/stepone`)\n    }\n\n    const showDropIn = () => {\n        return <div onBlur={() => setData({...data, error: \"\"})}>\n            {data.clientToken !== null && products.length > 0 ? (\n                <div>\n                    <div className=\"gorm-group mb-3\">\n                        <label className=\"text-muted\">Delivery address:</label>\n                        <textarea\n                            onChange={handleAddress}\n                            className=\"form-control\"\n                            value={data.address}\n                            placeholder=\"Type your delivery address here ...\"\n                        />\n                    </div>\n                    <DropIn \n                        options={{\n                            authorization: data.clientToken,\n                            paypal: {\n                                flow: 'vault'\n                            }\n                        }} \n                        onInstance={instance => (data.instance = instance)}\n                    />\n                    <button onClick = {buy} className=\"btn btn-success btn-block\">\n                        Pay\n                    </button>\n                    <button onClick = {redir} className=\"btn btn-success btn-block\">\n                        Checkout\n                    </button>\n                </div>\n            ) : null}\n        </div>\n    }\n\n    const showError = error =>(\n        <div \n            className=\"alert alert-danger\" \n            style={{display: error ? '' : 'none'}}>\n                {error}\n        </div>\n    )\n\n    const showSuccess = success => (\n        <div \n            className=\"alert alert-info\" \n            style={{display: success ? '' : 'none'}}\n        >\n                Thanks! Your payment was successful!\n        </div>\n    )\n\n    const showLoading = loading => \n        loading && <h2>Loading...</h2>\n    \n\n    return (\n        <div>\n\n            <h2>Total: ${getTotal()}</h2>\n            {showLoading(data.loading)}\n            {showSuccess(data.success)}\n            {showError(data.error)}\n            {showCheckout()}\n        </div>\n    )\n}\n\nexport default Checkout","import React, {useState, useEffect} from 'react'\nimport {Link, useHistory} from 'react-router-dom'\nimport Layout from './Layout'\nimport { getCart } from './cartHelpers'\nimport Card from './Card'\nimport Checkout from './Checkout'\n\nconst Cart = () => {\n    const history = useHistory()\n    const [items, setItems] = useState([])\n    const [run, setRun] = useState(false);\n\n    useEffect(() => {\n        setItems(getCart())\n    }, [run])\n\n    const showItems = items => {\n        return (\n            <div>\n                <h2>Your cart has {`${items.length}`}</h2>\n                <hr/>\n                {items.map((product, i) => (\n                    <Card \n                        key={i} \n                        product={product} \n                        showAddToCartButton={false}\n                        cartUpdate = {true}\n                        showRemoveProductButton={true}\n                    />\n                ))}\n            </div>\n        )\n    }\n\n    const noItemsMessage = () => (\n        <h2>Your cart is empty. <br/> <Link to=\"/shop\">Continue shopping</Link> </h2>\n    )\n\n    const redir = () => {\n        history.push(`/stepone`)\n    }\n\n    return (\n        <Layout \n                title=\"Shopping Cart\" \n                description=\"Manage your cart items. Add remove checkout or continue shopping\" \n                className=\"container-fluid\"\n            >\n                <div className=\"row\">\n                    <div className=\"col-6\">\n                        {items.length > 0 ? showItems(items) : noItemsMessage()}\n                    </div>\n                    <div className=\"col-6\">\n                        <h2 className=\"mb-4\">Your cart summary</h2>\n                        <hr/>\n                        <Checkout products={items}/>\n                    </div>\n                    <button onClick={redir} className=\"btn btn-success btn-block\">\n                        Checkout\n                    </button>\n\n                    \n                </div>\n\n        </Layout>\n    )\n}\n\nexport default Cart","import React, {useState, useEffect} from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\nimport { listOrders, getStatusValues, updateOrderStatus } from './ApiAdmin'\nimport moment from 'moment'\n\nconst Orders = () => {\n    const [orders, setOrders] = useState([])\n    const [statusValues, setStatusvalues] = useState([])\n\n\n    const {user, token} = isAuthenticated()\n\n    const loadOrders = () => {\n        listOrders(user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error)\n            }else{\n                setOrders(data)\n            }\n        })\n    }\n\n    const loadStatusValues = () => {\n        getStatusValues(user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error)\n            }else{\n                setStatusvalues(data)\n            }\n        })\n    }\n\n    useEffect(() => {\n        loadOrders()\n        loadStatusValues()\n    }, [])\n\n    const showOrdersLength = () => {\n        if(orders.length > 0){\n            return (\n                <h1 className=\"text-danger display-2\">Total orders: {orders.length}</h1>\n            )\n        } else{\n            return <h1 className=\"text-danger\">No orders</h1>\n        }\n    }\n\n    const showInput = (key, value) => (\n        <div className=\"input-group mb-2 mb-sm-2\">\n            <div className=\"input-group-prepend\">\n                <div className=\"input-group-text\">\n                    {key}\n                </div>\n            </div>\n            <input \n                type=\"text\" \n                value={value} \n                className=\"form-control\" \n                readOnly\n            />\n        </div>\n    )\n\n    const handleStatusChange = (e, orderId) => {\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\n            if (data.error){\n                console.log('Status update failed')\n            }else{\n                loadOrders()\n            }\n        })\n    }\n\n    const showStatus = o => (\n        <div className=\"form-group\">\n            <h3 className=\"mark mb-4\">\n                Status: {o.status}\n            </h3>\n            <select \n                className=\"form-control\" \n                onChange={e => handleStatusChange(e, o._id)} \n            >\n                <option>Update Status</option>\n                {statusValues.map((status, index) => (\n                    <option key={index} value={status}>\n                        {status}\n                    </option>\n                ))}\n            </select>\n        </div>\n    )\n\n    return (\n        <Layout \n            title=\"Orders\" \n            description={`G'day ${\n                user.name\n            }, you can manage all the orders here`}\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {showOrdersLength()}\n                {orders.map((o, oIndex) => {\n                    return (\n                        <div \n                            className=\"mt-5\" \n                            key={oIndex} \n                            style={{borderBottom: '5px solid indigo'}}>\n                                <h2 className=\"mb-5\">\n                                    <span className=\"bg-primary\">\n                                        Order ID: {o._id}\n                                    </span>\n                                </h2>\n\n                                <ul className=\"list-group mb-2\">\n                                    <li className=\"list-group-item\">\n                                        {showStatus(o)}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Transaction ID: ${o.transaction_id}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Amount: {o.amount}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered by: {o.user.name}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered on: {moment(o.createdAt).fromNow()}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Delivery address: {o.address}\n                                    </li>\n                                </ul>\n\n                                <h3 className=\"mt-4 mb-4 font-italic\">\n                                    Total products in order: \n                                    {o.products.length}\n                                </h3>\n\n                                {o.products.map((p, pIndex) => (\n                                    <div className=\"mb-4\" key={pIndex} style={{padding: '20px', border:'1px solid indigo'}}>\n                                        {showInput('Product name', p.name)}\n                                        {showInput('Product price', p.price)}\n                                        {showInput('Product total', p.count)}\n                                        {showInput('Product Id', p._id)}\n                                    </div>\n                                ))}\n                        </div>\n                    )\n                })}\n            </div>\n        </Layout>\n    ) \n}\n\nexport default Orders","import React, {useState, useEffect} from \"react\";\nimport Layout from \"../core/Layout\";\nimport {isAuthenticated} from \"../auth\"\nimport { Link, Redirect } from \"react-router-dom\"\nimport {read, update, updateUser} from './apiUser'\n\nconst Profile = ({match}) => {\n    const [values, setValues] = useState({\n        name: '',\n        email : '',\n        password: '',\n        error: false,\n        success: false\n    })\n\n    const {token} = isAuthenticated()\n    const {name, email, password, error, success} = values\n\n    const init = userId => {\n        read(userId, token).then(data => {\n            if(data.error){\n                setValues({...values, error: true})\n            }else{\n                setValues({...values, name: data.name, email: data.email})\n            }\n        })\n    }\n\n    useEffect(() => {\n        init(match.params.userId)\n    }, [])\n\n    const handleChange = name => e => {\n        setValues({...values, error: false, [name]: e.target.value})\n    }\n\n    const clickSubmit = (e) => {\n        e.preventDefault()\n        update(match.params.userId, token, {name, email, password}).then(data => {\n            if(data.error){\n                console.log(data.error)\n            }else{\n                updateUser(data, () => {\n                    setValues({\n                        ...values, \n                        name: data.name, \n                        email: data.email, \n                        success: true\n                    })\n                })\n            }\n        })\n    }\n\n    const redirectUser = (success) => {\n        if(success){\n            return <Redirect to=\"/cart\" />\n        }\n    }\n\n    const profileUpdate = (name, email, password) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input \n                    type=\"text\" \n                    onChange={handleChange('name')} \n                    className=\"form-control\" \n                    value={name}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input \n                    type=\"email\" \n                    onChange={handleChange('email')} \n                    className=\"form-control\" \n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input \n                    type=\"password\" \n                    onChange={handleChange('password')} \n                    className=\"form-control\" \n                    value={password}\n                />\n\n                <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n            </div>\n        </form>\n    )\n\n    return (\n        <Layout \n            title=\"Profile\" \n            description=\"Update your profile\" \n            className=\"container-fluid\"\n        >\n\n            <h2 className=\"mb-4\">Profile update</h2>\n            {profileUpdate(name, email, password)}\n            {redirectUser(success)}\n        </Layout>\n    )\n}\n\nexport default Profile","import React, {useState, useEffect} from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link} from 'react-router-dom'\nimport {getProducts, deleteProduct} from './ApiAdmin'\n\nconst ManageProducts = () => {\n    const [products, setProducts] = useState([])\n\n    const {user, token} = isAuthenticated()\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error){\n                console.log(data.error)\n            }else{\n                setProducts(data)\n            }\n        })\n    }\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error)\n            }else{\n                loadProducts()\n            }\n        })\n    }\n\n    useEffect(() => {\n        loadProducts()\n    }, [])\n\n    return (\n        <Layout \n            title=\"Manage Products\" \n            description=\"Perform CRUD on products\" \n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-12\">\n                <h2 className=\"text-center\">\n                    Total {products.length} products\n                </h2>\n                <hr/>\n                    <ul className=\"list-group\">\n                        {products.map((p, i) => (\n                            <li \n                                key={i}\n                                className=\"list-group-item d-flex justify-content-between align-items-center\"\n                            >\n                                <strong>{p.name}</strong>\n                                <Link to={`/admin/product/update/${p._id}`}>\n                                    <span className=\"badge badge-warning badge-pill\">\n                                        Update\n                                    </span>\n                                </Link>\n                                <span \n                                    onClick={() => destroy(p._id)} \n                                    className=\"badge badge-danger badge-pill\">\n                                        Delete\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport default ManageProducts","import React, {useState, useEffect} from 'react'\nimport Layout from '../core/Layout'\nimport {isAuthenticated} from '../auth'\nimport {Link, Redirect} from 'react-router-dom'\nimport {getProduct, getCategories, updateProduct } from './ApiAdmin'\n\nconst UpdateProduct = ({match}) => {\n\n    const [values, setValues] = useState({\n        name: '',\n        description: '',\n        price: '',\n        categories: [],\n        category: '',\n        shipping: '',\n        quantity: '',\n        photo: '',\n        loading: false,\n        error: false,\n        createdProduct: '',\n        redirectToProfile: false,\n        formData: ''\n    })\n\n    const [categories, setCategories] = useState([]);\n\n    const{ user, token} = isAuthenticated();\n\n    const {\n        name,\n        description,\n        price,\n        // categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values\n\n    const init = productId => {\n        getProduct(productId).then(data => {\n            if(data.error){\n                setValues({...values, error: data.error})\n            } else {\n                console.log(data)\n                //populate state\n                setValues({\n                    ...values, \n                    name: data.name, \n                    description: data.description,\n                    price: data.price,\n                    category: data.category._id,\n                    shipping: data.shipping,\n                    quantity: data.quantity,\n                    formData: new FormData()\n                })\n                //load categories\n                initCategories()\n            }\n        })\n    }\n\n    //load categories and set form data\n    const initCategories = () => {\n        getCategories().then(data => {\n            if (data.error){\n                setValues({...values, error: data.error})\n            }else{\n                setCategories(data)\n            }\n        })\n    }\n    \n\n    useEffect(() => {\n        init(match.params.productId)\n\n    }, [])\n\n    const handleChange = name => event => {\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\n        formData.set(name, value)\n        setValues({...values, [name]: value})\n    }\n\n    const clickSubmit = (event) => {\n        event.preventDefault()\n        setValues({...values, error: '', loading: true})\n        updateProduct(match.params.productId, user._id, token, formData)\n            .then(data => {\n                if(data.error){\n                    setValues({...values, error: data.error})\n                }else{\n                    setValues({\n                        ...values, \n                        name:'', \n                        description:'', \n                        photo: '', \n                        price: '', \n                        quantity:'',\n                        loading: false,\n                        createdProduct: data.name\n                    })\n                }\n\n            })\n    }\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange('photo')} \n                        type=\"file\" \n                        name=\"photo\" \n                        accept=\"image/*\" \n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input \n                    onChange={handleChange('name')} \n                    type=\"text\" \n                    className=\"form-control\" \n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea \n                    onChange={handleChange('description')} \n                    className=\"form-control\" \n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input \n                    onChange={handleChange('price')} \n                    type=\"number\" \n                    className=\"form-control\" \n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select \n                    onChange={handleChange('category')} \n                    className=\"form-control\" \n                >\n                    <option>Please select</option>\n                        {categories && \n                            categories.map((c, i) => (\n                                <option key = {i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select \n                    onChange={handleChange('shipping')} \n                    className=\"form-control\" \n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input \n                    onChange={handleChange('quantity')} \n                    type=\"number\" \n                    className=\"form-control\" \n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Update Product</button>\n\n        </form>\n    )\n\n    const showError =() => (\n        <div \n            className=\"alert alert-danger\" \n            style={{display: error ? '' : 'none'}}\n        >\n            {error}\n        </div>\n    )\n\n    const showSuccess =() => (\n        <div \n            className=\"alert alert-info\" \n            style={{display: createdProduct ? '' : 'none'}}\n        >\n            <h2>{`${createdProduct}`} is updated</h2>\n        </div>\n    )\n\n    const showLoading =() => \n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>\n                    Loading ...\n                </h2>\n            </div>\n        )\n\n    const redirectUser = () => {\n        if(redirectToProfile){\n            if(!error){\n                return <Redirect to=\"/\" />\n            }\n        }\n    }\n\n    return (\n        <Layout \n            title=\"Add a new product\" \n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {showLoading()}\n                {showSuccess()}\n                {showError()}\n                {newPostForm()}\n                {redirectUser()}\n            </div>\n        </Layout>\n    )\n}\n\nexport default UpdateProduct","import React from 'react'\nimport Layout from './Layout'\nimport {Link, useHistory} from 'react-router-dom'\n\nconst StepOne = () => {\n    const history = useHistory()\n\n    const redir = () => {\n        history.push(`/steptwo`)\n    }\n    \n    const newPostForm = () => {\n        return (\n            <form className=\"mb-3\">\n                <h4>Enter your address</h4>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Street</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Room Number</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">City</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">State</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Country</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Zip Code</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                    />\n                </div>\n\n                <button className=\"btn btn-outline-primary\" onClick={redir}>Go to Step 2</button>\n            </form>\n        )\n    }\n\n\n    return (\n        <Layout\n            title=\"Welcome to checkout screen\"\n            description=\"Did you find everything you are looking for?\"\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {newPostForm()}\n            </div>\n        </Layout>\n    )\n}\n\nexport default StepOne","export const shippingFees = [\n    {\n        _id: 0,\n        name: \"Free\",\n        value: 0\n    },\n    {\n        _id: 1,\n        name: \"basic ($5 extra)\",\n        value: 5.00\n    },\n    {\n        _id: 2,\n        name: \"Express ($10 extra)\",\n        value: 10.00\n    }\n]","import React from 'react'\nimport Layout from './Layout'\nimport {Link, useHistory} from 'react-router-dom'\nimport {shippingFees} from './fixedShippingFee'\nimport RadioBox from './RadioBox'\n\n\n\nconst StepTwo = () => {\n    const history = useHistory()\n\n    const redir = () => {\n        history.push(`/stepthree`)\n    }\n\n    const newPostForm = () => {\n        return (\n            <form className=\"mb-3\">\n                \n                <button className=\"btn btn-outline-primary\" onClick={redir}>Go to Step 3</button>\n            </form>\n        )\n    }\n\n    return (\n        <Layout\n            title=\"Welcome to checkout screen\"\n            description=\"Did you find everything you are looking for?\"\n        >\n            <div className=\"col-md-8 offset-md-2\">\n                {newPostForm()}\n                What services would you prefer?\n                <RadioBox \n                            prices={shippingFees} \n                            \n                />\n            </div>\n        </Layout>\n    )\n}\n\nexport default StepTwo","import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport Layout from './Layout'\nimport { getCart } from './cartHelpers'\nimport Card from './Card'\nimport Checkout from './Checkout'\n\nconst StepThree = () => {\n    const [items, setItems] = useState([])\n    const [run, setRun] = useState(false);\n\n    useEffect(() => {\n        setItems(getCart())\n    }, [run])\n\n    return (\n        <Layout \n                title=\"Shopping Cart\" \n                description=\"Manage your cart items. Add remove checkout or continue shopping\" \n                className=\"container-fluid\"\n            >\n                <div className=\"row\">\n\n                    <div className=\"col-6\">\n                        <h2 className=\"mb-4\">Your cart summary</h2>\n                        <hr/>\n                        <Checkout products={items}/>\n                    </div>\n\n                    \n                </div>\n\n        </Layout>\n    )\n}\n\nexport default StepThree","import React from 'react'\nimport Layout from './Layout'\nimport {Link} from 'react-router-dom'\n\nconst StepFour = () => {\n    return (\n        <Layout\n            title=\"Welcome to checkout screen\"\n            description=\"Did you find everything you are looking for?\"\n        >\n            \n        </Layout>\n    )\n}\n\nexport default StepFour","import React, { useState, useEffect } from 'react'\nimport Layout from \"../core/Layout\"\nimport {getPurchaseHistory} from './apiUser'\nimport Dashboard from './userDashboard'\nimport moment from 'moment'\nimport {isAuthenticated} from '../auth'\n\n\nconst purchaseHistory = (history) => {\n    return (\n        <div className=\"card mb-5\">\n            <h3 className=\"card-header\">Purchase History</h3>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">\n                    {history.map((h, i) => {\n                        return (\n                            <div>\n                                <hr/>\n                                {h.products.map((p, i) => {\n                                    return (\n                                        <div key={i}>\n                                            <h6>Product name: {p.name}</h6>\n                                            <h6>Product price: ${p.price}</h6>\n                                            <h6>\n                                                Product date: {\" \"}\n                                                {moment(p.createdAt).fromNow()}\n                                            </h6>\n\n                                        </div>\n                                    )\n                                })}\n                            </div>\n                        )\n                    })}\n                </li>\n            </ul>\n        </div>\n    )\n}\n\nconst Lishi = () => {\n    const [history, setHistory] = useState([])\n\n    const {\n        user: {_id, name, email, role}\n    } = isAuthenticated()\n    const token = isAuthenticated().token\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            if(data.error){\n                console.log(data.error)\n            }else{\n                setHistory(data)\n            }\n        })\n    }\n\n    useEffect(() => {\n        init(_id, token)\n    }, [])\n\n    return(\n        <Layout>\n            <div>\n                <h1>Purchase History</h1>\n                {purchaseHistory(history)}\n            </div>\n        </Layout>\n    )\n}\n\nexport default Lishi","import React from 'react'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Signup from './user/Signup'\nimport Signin from './user/Signin'\nimport Home from './core/Home'\nimport PrivateRoute from './auth/PrivateRoute'\nimport Dashboard from './user/userDashboard'\nimport AdminRoute from './auth/AdminRoute'\nimport AdminDashboard from './user/AdminDashboard'\nimport AddCategory from './admin/AddCategory'\nimport AddProduct from './admin/AddProduct'\nimport Shop from './core/Shop'\nimport Product from './core/Product'\nimport Cart from './core/Cart'\nimport Orders from './admin/Orders'\nimport Profile from './user/Profile'\nimport ManageProducts from './admin/ManageProducts'\nimport UpdateProduct from './admin/UpdateProduct'\nimport stepone from './core/StepOne'\nimport steptwo from './core/StepTwo'\nimport stepthree from './core/StepThree'\nimport stepfour from './core/StepFour'\nimport Lishi from './user/Lishi'\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={Home}/> \n                <Route path=\"/shop\" exact component={Shop}/> \n                <Route path=\"/signin\" exact component={Signin}/> \n                <Route path=\"/signup\" exact component={Signup}/> \n                <Route path=\"/stepone\" exact component={stepone}/>\n                <Route path=\"/steptwo\" exact component={steptwo}/>\n                <Route path=\"/stepthree\" exact component={stepthree}/>\n                <Route path=\"/stepfour\" exact component={stepfour}/>\n                <PrivateRoute \n                    path=\"/user/dashboard\" \n                    exact \n                    component={Dashboard} \n                />\n                <AdminRoute \n                    path=\"/admin/dashboard\" \n                    exact \n                    component={AdminDashboard} \n                />\n                <AdminRoute \n                    path=\"/create/category\" \n                    exact \n                    component={AddCategory} \n                />\n                <AdminRoute \n                    path=\"/create/product\" \n                    exact \n                    component={AddProduct} \n                />\n                <Route path=\"/product/:productId\" exact component={Product}/>\n                <Route path=\"/cart\" exact component={Cart}/>  \n                <AdminRoute \n                    path=\"/admin/orders\" \n                    exact \n                    component={Orders} \n                />\n                <PrivateRoute \n                    path=\"/profile/:userId\" \n                    exact \n                    component={Profile} \n                />\n                <PrivateRoute\n                    path=\"/history/:userId\"\n                    exact\n                    component={Lishi}\n                />\n                <AdminRoute \n                    path=\"/admin/products\" \n                    exact \n                    component={ManageProducts} \n                />\n                <AdminRoute \n                    path=\"/admin/product/update/:productId\" \n                    exact \n                    component={UpdateProduct} \n                />\n            </Switch>\n        </BrowserRouter>\n    )\n}\n\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from \"./Routes\"\n\nReactDOM.render(\n  <Routes />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}