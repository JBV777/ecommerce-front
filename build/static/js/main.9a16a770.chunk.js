(this["webpackJsonpecommerce-front"]=this["webpackJsonpecommerce-front"]||[]).push([[0],{39:function(e,t,c){},44:function(e,t,c){},58:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(2),a=c(23),s=c.n(a),o=c(5),i=c(6),l=c(8),j=c(3),d=c(4),u="http://localhost:8000/api",b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},m=function(){return"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]},h=(c(39),function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}}),O=Object(i.h)((function(e){var t=e.history;return Object(n.jsx)("div",{children:Object(n.jsxs)("ul",{className:"nav nav-tabs bg-primary",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",style:h(t,"/"),to:"/",children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(o.b,{className:"nav-link",style:h(t,"/cart"),to:"/cart",children:["Cart",Object(n.jsx)("sup",{children:Object(n.jsx)("small",{className:"cart-badge",children:"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0})})]})}),b()&&0===b().user.role&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",style:h(t,"/user/dashboard"),to:"/user/dashboard",children:"Dashboard"})}),b()&&1===b().user.role&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",style:h(t,"/admin/dashboard"),to:"/admin/dashboard",children:"Dashboard"})}),!b()&&Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",style:h(t,"/signin"),to:"/signin",children:"Signin"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",style:h(t,"/signup"),to:"/signup",children:"Signup"})})]}),b()&&Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("span",{className:"nav-link",style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(u,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))},children:"Signout"})})]})})})),p=(c(44),function(e){var t=e.title,c=void 0===t?"Title":t,r=e.description,a=void 0===r?"Description":r,s=e.className,o=e.children;return Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{}),Object(n.jsxs)("div",{className:"jumbotron",children:[Object(n.jsx)("h2",{children:c}),Object(n.jsx)("p",{className:"lead",children:a})]}),Object(n.jsx)("div",{className:s,children:o})]})}),f=function(){var e=Object(r.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=c.name,i=c.email,b=c.password,m=c.success,h=c.error,O=function(e){return function(t){a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},f=function(e){var t;e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:!1})),(t={name:s,email:i,password:b},fetch("".concat(u,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):a(Object(j.a)(Object(j.a)({},c),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return Object(n.jsxs)(p,{title:"Signup",description:"Signup to Node React E-Commerce App",className:"container col-md-8 offset-md-2",children:[Object(n.jsxs)("div",{className:"alert alert-info",style:{display:m?"":"none"},children:["New account is created. Please ",Object(n.jsx)(o.b,{to:"/signin",children:"Signin"})]}),Object(n.jsx)("div",{className:"alert alert-danger",style:{display:h?"":"none"},children:h}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{onChange:O("name"),type:"text",className:"form-control",value:s})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Email"}),Object(n.jsx)("input",{onChange:O("email"),type:"email",className:"form-control",value:i})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Password"}),Object(n.jsx)("input",{onChange:O("password"),type:"password",className:"form-control",value:b})]}),Object(n.jsx)("button",{onClick:f,className:"btn btn-primary",children:"Submit"})]})]})},x=function(){var e=Object(r.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=c.email,o=c.password,m=c.loading,h=c.error,O=c.redirectToReferrer,f=b().user,x=function(e){return function(t){a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({error:!1},e,t.target.value)))}},g=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:!1,loading:!0})),function(e){return fetch("".concat(u,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:s,password:o}).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){a(Object(j.a)(Object(j.a)({},c),{},{redirectToReferrer:!0}))}))}))};return Object(n.jsxs)(p,{title:"Signin",description:"Signin to Node React E-Commerce App",className:"container col-md-8 offset-md-2",children:[m&&Object(n.jsx)("div",{className:"alert alert-info",children:Object(n.jsx)("h2",{children:"Loading..."})}),Object(n.jsx)("div",{className:"alert alert-danger",style:{display:h?"":"none"},children:h}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Email"}),Object(n.jsx)("input",{onChange:x("email"),type:"email",className:"form-control",value:s})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Password"}),Object(n.jsx)("input",{onChange:x("password"),type:"password",className:"form-control",value:o})]}),Object(n.jsx)("button",{onClick:g,className:"btn btn-primary",children:"Submit"})]}),O?f&&1===f.role?Object(n.jsx)(i.a,{to:"/admin/dashboard"}):Object(n.jsx)(i.a,{to:"/user/dashboard"}):b()?Object(n.jsx)(i.a,{to:"/"}):void 0]})},g=c(32),N=c.n(g),v=function(e){return fetch("".concat(u,"/products?sortBy=").concat(e,"&order=desc&limit=6"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},y=function(){return fetch("".concat(u,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},S=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={limit:t,skip:e,filters:c};return fetch("".concat(u,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},w=function(e){var t=e.item,c=e.url;return Object(n.jsx)("div",{className:"product-img",children:Object(n.jsx)("img",{src:"".concat(u,"/").concat(c,"/photo/").concat(t._id),alt:t.name,className:"mb-3",style:{maxHeight:"100%",maxWidth:"100%"}})})},C=c(13),k=c.n(C),P=function(e){var t,c=e.product,a=e.showViewProductButton,s=void 0===a||a,l=e.showAddToCartButton,u=void 0===l||l,b=e.cartUpdate,m=void 0!==b&&b,h=e.showRemoveProductButton,O=void 0!==h&&h,p=Object(r.useState)(!1),f=Object(d.a)(p,2),x=f[0],g=f[1],N=Object(r.useState)(c.count),v=Object(d.a)(N,2),y=v[0],S=v[1],C=function(){!function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(j.a)(Object(j.a)({},e),{},{count:1})),c=Array.from(new Set(c.map((function(e){return e._id})))).map((function(e){return c.find((function(t){return t._id===e}))})),localStorage.setItem("cart",JSON.stringify(c)),t())}(c,(function(){g(!0)}))},P=function(e){return function(t){S(t.target.value<1?1:t.target.value),t.target.value>=1&&function(e,t){var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(n,r){n._id===e&&(c[r].count=t)})),localStorage.setItem("cart",JSON.stringify(c)))}(e,t.target.value),window.location.reload()}};return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header name",children:c.name}),Object(n.jsxs)("div",{className:"card-body",children:[function(e){if(e)return Object(n.jsx)(i.a,{to:"/cart"})}(x),Object(n.jsx)(w,{item:c,url:"product"}),Object(n.jsx)("p",{className:"lead mt-2",children:c.description.substring(0,100)}),Object(n.jsxs)("p",{className:"black-10",children:["$",c.price]}),Object(n.jsxs)("p",{className:"black-9",children:["Category: ",c.category&&c.category.name]}),Object(n.jsxs)("p",{className:"black-8",children:["Added on ",k()(c.createdAt).fromNow()]}),(t=c.quantity,t>0?Object(n.jsx)("span",{className:"badge badge-primary badge-pill",children:"In Stock"}):Object(n.jsx)("span",{className:"badge badge-primary badge-pill",children:"Out of Stock"})),Object(n.jsx)("br",{}),function(e){return e&&Object(n.jsx)(o.b,{to:"/product/".concat(c._id),className:"mr-2",children:Object(n.jsx)("button",{className:"btn btn-outline-primary mr-2 mb-2",children:"View Product"})})}(s),function(e){return e&&Object(n.jsx)("button",{onClick:C,className:"btn btn-outline-warning mt-2 mb-2",children:"Add to cart"})}(u),function(e){return e&&Object(n.jsx)("button",{onClick:function(){return function(e){var t=[];return"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(c,n){c._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t))),window.location.reload(),t}(c._id)},className:"btn btn-outline-danger mt-2 mb-2",children:"Remove Product"})}(O),function(e){return e&&Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"input-group-mb-3",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Adjust Quantity"})}),Object(n.jsx)("input",{type:"number",className:"form-control",value:y,onChange:P(c._id)})]})})}(m)]})]})},T=c(14),A=function(){var e=Object(r.useState)({categories:[],category:"",search:"",results:[],searched:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=c.categories,o=c.category,i=c.search,b=c.results,m=c.searched;Object(r.useEffect)((function(){y().then((function(e){e.error?console.log(e.error):a(Object(j.a)(Object(j.a)({},e),{},{categories:e}))}))}),[]);var h=function(){i&&function(e){var t=N.a.stringify(e);return console.log("query",t),fetch("".concat(u,"/products/search?").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({search:i||void 0,category:o}).then((function(e){e.error?console.log(e.error):a(Object(j.a)(Object(j.a)({},c),{},{results:e,searched:!0}))}))},O=function(e){e.preventDefault(),h()},p=function(e){return function(t){var n;a(Object(j.a)(Object(j.a)({},c),{},(n={},Object(l.a)(n,e,t.target.value),Object(l.a)(n,"searched",!1),n)))}},f=function(e,t){return e&&t.length>0?"Found ".concat(t.length," products"):e&&t.length<1?"No products found":void 0};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"container mb-3",children:Object(n.jsx)("form",{onSubmit:O,children:Object(n.jsxs)("span",{className:"input-group-text",children:[Object(n.jsxs)("div",{className:"input-group input-group-lg",children:[Object(n.jsx)("input",{type:"search",className:"form-control",onChange:p("search"),placeholder:"Search by name"}),Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsxs)("select",{className:"btn mr-2",onChange:p("category"),children:[Object(n.jsx)("option",{value:"All",children:"All"}),s.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.name},t)}))]})})]}),Object(n.jsx)("div",{className:"btn input-group-append",style:{border:"none"},children:Object(n.jsx)("button",{className:"btn btn-info",children:Object(n.jsx)(T.c,{})})})]})})}),Object(n.jsx)("div",{className:"container-fluid mb-3",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"mt-4-mb-4",children:f(m,e)}),Object(n.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(n.jsx)(P,{product:e},t)}))})]})}(b)})]})},_=c(24);_.a,T.d,T.a,T.b,c(58),c(0);var E=c(17),I=function(e){var t=e.prices,c=e.handleFilters,a=Object(r.useState)(0),s=Object(d.a)(a,2),o=(s[0],s[1]),i=function(e){c(e.target.value),o(e.target.value)};return t.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{onChange:i,value:"".concat(e._id),name:e,type:"radio",className:"mr-2 ml-4"}),Object(n.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))},D=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $9",array:[0,9]},{_id:2,name:"$10 to $19",array:[10,19]},{_id:3,name:"$20 to $29",array:[20,29]},{_id:4,name:"$30 to $39",array:[30,39]},{_id:5,name:"more than $40",array:[40,99]}],B=function(){var e=Object(r.useState)({filters:{category:[],price:[]}}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)([]),o=Object(d.a)(s,2),i=(o[0],o[1]),l=Object(r.useState)(!1),u=Object(d.a)(l,2),b=(u[0],u[1]),m=Object(r.useState)(6),h=Object(d.a)(m,2),O=h[0],f=(h[1],Object(r.useState)(0)),x=Object(d.a)(f,2),g=x[0],N=x[1],v=Object(r.useState)(0),w=Object(d.a)(v,2),C=w[0],k=w[1],T=Object(r.useState)([]),A=Object(d.a)(T,2),_=A[0],B=A[1],G=function(e){S(g,O,e).then((function(e){e.error?b(e.error):(B(e.data),k(e.size),N(0))}))},J=function(){var e=g+O;S(e,O,c.filters).then((function(t){t.error?b(t.error):(B([].concat(Object(E.a)(_),Object(E.a)(t.data))),k(t.size),N(e))}))};Object(r.useEffect)((function(){y().then((function(e){e.error?b(e.error):i(e)})),G(g,c.filters)}),[]);var z=function(e){var t=D;console.log(t);var c=[];for(var n in t)t[n]._id===parseInt(e)&&(c=t[n].array);return c};return Object(n.jsx)(p,{title:"Welcome",description:"Please select your favorite movies",className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-4",children:[Object(n.jsx)("h4",{children:"What is your price range?"}),Object(n.jsx)("div",{children:Object(n.jsx)(I,{prices:D,handleFilters:function(e){return function(e,t){var n=Object(j.a)({},c);if(n.filters[t]=e,"price"==t){var r=z(e);n.filters[t]=r}console.log(c.filters),G(c.filters),a(n)}(e,"price")}})})]}),Object(n.jsxs)("div",{className:"col-8",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Products"}),Object(n.jsx)("div",{className:"row",children:_.map((function(e,t){return Object(n.jsx)("div",{className:"col-4 mb-3",children:Object(n.jsx)(P,{product:e},t)},t)}))}),Object(n.jsx)("hr",{}),C>0&&C>=O&&Object(n.jsx)("button",{onClick:J,className:"btn btn-warning mb-5",children:"Load more"})]})]})})},G=function(){var e=Object(r.useState)({filters:{category:[],price:[],fenlei:[]}}),t=Object(d.a)(e,2),c=(t[0],t[1],Object(r.useState)([])),a=Object(d.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)([]),i=Object(d.a)(o,2),l=(i[0],i[1]),j=Object(r.useState)([]),u=Object(d.a)(j,2),b=u[0],m=u[1],h=Object(r.useState)([]),O=Object(d.a)(h,2),f=(O[0],O[1],Object(r.useState)(!1)),x=Object(d.a)(f,2),g=(x[0],x[1]),N=Object(r.useState)(0),y=Object(d.a)(N,2),w=y[0],C=y[1],k=Object(r.useState)(0),T=Object(d.a)(k,2),_=(T[0],T[1]),E=Object(r.useState)(100),I=Object(d.a)(E,2),D=I[0];I[1];return Object(r.useEffect)((function(){v("createdAt").then((function(e){e.error?g(e.error):l(e)})),v("sold").then((function(e){e.error?g(e.error):s(e)})),S(w,D,{price:[]}).then((function(e){e.error?g(e.error):(m(e.data),_(e.size),C(0))}))}),[]),Object(n.jsxs)(p,{title:"Welcome",description:"Please select your favorite movies",className:"container-fluid",children:[Object(n.jsx)(A,{}),Object(n.jsx)("h2",{className:"mb-4 col-8",children:"All Products"}),Object(n.jsx)("div",{className:"row",children:b.map((function(e,t){return Object(n.jsx)("div",{className:"col-4 mb-3",children:Object(n.jsx)(P,{product:e},t)},t)}))})]})},J=c(19),z=function(e){var t=e.component,c=Object(J.a)(e,["component"]);return Object(n.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return b()?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},U=function(e,t){return fetch("".concat(u,"/orders/by/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},q=function(e){e.title,e.subtitle,e.number,e.color;var t=Object(r.useState)([]),c=Object(d.a)(t,2),a=(c[0],c[1]),s=b().user,i=s._id,l=s.name,j=s.email,u=s.role,m=b().token;Object(r.useEffect)((function(){!function(e,t){U(e,t).then((function(e){e.error?console.log(e.error):a(e)}))}(i,m)}),[]);return Object(n.jsx)(p,{title:"Dashboard",description:"G'day ".concat(l,"!"),className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-header",children:"User Links"}),Object(n.jsxs)("ul",{className:"list-group",children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/cart",children:"My Cart"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/profile/".concat(i),children:"Update Profile"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/history/".concat(i),children:"Purchase History"})})]})]})}),Object(n.jsxs)("div",{className:"col-8",children:[Object(n.jsx)("h2",{children:"User Information"}),Object(n.jsxs)("p",{children:["Name: ",l]}),Object(n.jsxs)("p",{children:["Email: ",j]}),Object(n.jsxs)("p",{children:["Role: '",1===u?"Admin":"Registered User","'"]})]})]})})},R=function(e){var t=e.component,c=Object(J.a)(e,["component"]);return Object(n.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return b()&&1===b().user.role?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},$=function(){var e=b().user,t=(e._id,e.name),c=e.email,r=e.role;return Object(n.jsx)(p,{title:"Dashboard",description:"G'day ".concat(t,"!"),className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h4",{className:"card-header",children:"Admin Links"}),Object(n.jsxs)("ul",{className:"list-group",children:[Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/create/category",children:"Create Category"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/create/product",children:"Create Product"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/admin/orders",children:"View Orders"})}),Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/admin/products",children:"Manage Products"})})]})]})}),Object(n.jsx)("div",{className:"col-9",children:Object(n.jsxs)("div",{className:"card mb-5",children:[Object(n.jsx)("h3",{className:"card-header",children:"User Information"}),Object(n.jsxs)("ul",{className:"list-group",children:[Object(n.jsx)("li",{className:"list-group-item",children:t}),Object(n.jsx)("li",{className:"list-group-item",children:c}),Object(n.jsx)("li",{className:"list-group-item",children:1===r?"Admin":"Registered User"})]})]})})]})})},F=function(){return fetch("".concat(u,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},L=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],m=Object(r.useState)(!1),h=Object(d.a)(m,2),O=h[0],f=h[1],x=b(),g=x.user,N=x.token,v=function(e){j(""),a(e.target.value)},y=function(e){e.preventDefault(),j(""),f(!1),function(e,t,c){return fetch("".concat(u,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(g._id,N,{name:c}).then((function(e){e.error?j(!0):(j(""),f(!0))}))};return Object(n.jsx)(p,{title:"Add a new category",description:"G'day ".concat(g.name,", ready to add a new category"),children:Object(n.jsxs)("div",{className:"col-md-8 offset-md-2",children:[function(){if(O)return Object(n.jsxs)("h3",{className:"text-success",children:[c," is created"]})}(),function(){if(l)return Object(n.jsx)("h3",{className:"text-danger",children:"Category should be unique"})}(),Object(n.jsxs)("form",{onSubmit:y,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{clasName:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:v,value:c,autoFocus:!0,required:!0})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:" Create Category"})]}),Object(n.jsx)("div",{className:"mt-5",children:Object(n.jsx)(o.b,{to:"/admin/dashboard",className:"text-warning",children:"Back to Dashboard"})})]})})},W=function(){var e=Object(r.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),t=Object(d.a)(e,2),c=t[0],a=t[1],s=b(),o=s.user,i=s.token,m=c.name,h=c.description,O=c.price,f=c.categories,x=(c.category,c.shipping,c.quantity),g=c.loading,N=c.error,v=c.createdProduct,y=(c.redirectToProfile,c.formData);Object(r.useEffect)((function(){F().then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):a(Object(j.a)(Object(j.a)({},c),{},{categories:e,formData:new FormData}))}))}),[]);var S=function(e){return function(t){var n="photo"===e?t.target.files[0]:t.target.value;y.set(e,n),a(Object(j.a)(Object(j.a)({},c),{},Object(l.a)({},e,n)))}},w=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},c),{},{error:"",loading:!0})),function(e,t,c){return fetch("".concat(u,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(o._id,i,y).then((function(e){e.error?a(Object(j.a)(Object(j.a)({},c),{},{error:e.error})):a(Object(j.a)(Object(j.a)({},c),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name}))}))};return Object(n.jsx)(p,{title:"Add a new product",description:"G'day ".concat(o.name,", ready to add a new product?"),children:Object(n.jsxs)("div",{className:"col-md-8 offset-md-2",children:[g&&Object(n.jsx)("div",{className:"alert alert-success",children:Object(n.jsx)("h2",{children:"Loading ..."})}),Object(n.jsx)("div",{className:"alert alert-info",style:{display:v?"":"none"},children:Object(n.jsxs)("h2",{children:["".concat(v)," is created"]})}),Object(n.jsx)("div",{className:"alert alert-danger",style:{display:N?"":"none"},children:N}),Object(n.jsxs)("form",{className:"mb-3",onSubmit:w,children:[Object(n.jsx)("h4",{children:"Post Photo"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("label",{className:"btn btn-secondary",children:Object(n.jsx)("input",{onChange:S("photo"),type:"file",name:"photo",accept:"image/*"})})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{onChange:S("name"),type:"text",className:"form-control",value:m})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Description"}),Object(n.jsx)("textarea",{onChange:S("description"),className:"form-control",value:h})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Price"}),Object(n.jsx)("input",{onChange:S("price"),type:"number",className:"form-control",value:O})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Category"}),Object(n.jsxs)("select",{onChange:S("category"),className:"form-control",children:[Object(n.jsx)("option",{children:"Please select"}),f&&f.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(n.jsxs)("select",{onChange:S("shipping"),className:"form-control",children:[Object(n.jsx)("option",{children:"Please select"}),Object(n.jsx)("option",{value:"0",children:"No"}),Object(n.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(n.jsx)("input",{onChange:S("quantity"),type:"number",className:"form-control",value:x})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Create Product"})]})]})})},M=function(e){var t=Object(r.useState)({}),c=Object(d.a)(t,2),a=c[0],s=c[1],o=Object(r.useState)([]),i=Object(d.a)(o,2),l=i[0],j=i[1],b=Object(r.useState)(!1),m=Object(d.a)(b,2),h=(m[0],m[1]),O=function(e){(function(e){return fetch("".concat(u,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?h(e.error):(s(e),function(e){return fetch("".concat(u,"/products/related/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e._id).then((function(e){e.error?h(e.error):j(e)})))}))};return Object(r.useEffect)((function(){var t=e.match.params.productId;O(t)}),[e]),Object(n.jsx)(p,{title:a&&a.name,description:a&&a.description&&a.description.substring(0,100),className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-8",children:a&&a.description&&Object(n.jsx)(P,{product:a,showViewProductButton:!1})}),Object(n.jsxs)("div",{className:"col-4",children:[Object(n.jsx)("h4",{children:"Related products"}),l.map((function(e,t){return Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(P,{product:e})},t)}))]})]})})},Y=c(33),H=c.n(Y),V=function(e){var t=e.products,c=e.setRun,a=void 0===c?function(e){return e}:c,s=e.run,l=void 0===s?void 0:s,m=Object(i.g)(),h=Object(r.useState)({loading:!1,success:!1,clientToken:null,error:"",instance:{},address:""}),O=Object(d.a)(h,2),p=O[0],f=O[1],x=b()&&b().user._id,g=b()&&b().token,N=function(e,t){(function(e,t){return fetch("".concat(u,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){e.error?(console.log(e.error),f(Object(j.a)(Object(j.a)({},e),{},{error:e.error}))):f({clientToken:e.clientToken})}))};Object(r.useEffect)((function(){N(x,g)}),[]);var v,y,S,w=function(e){f(Object(j.a)(Object(j.a)({},p),{},{address:e.target.value}))},C=function(){return t.reduce((function(e,t){return e+t.count*t.price}),0)},k=p.address,P=function(){f({loading:!0});p.instance.requestPaymentMethod().then((function(e){console.log(e);var c={paymentMethodNonce:e.nonce,amount:C()};console.log("Payment data is:"+c),function(e,t,c){return fetch("".concat(u,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))}(x,g,c).then((function(e){console.log(e);var c,n={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount,address:k};!function(e,t,c){fetch("".concat(u,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(x,g,n),f({loading:!1,success:!0}),c=function(){a(!l),console.log("payment success and empty cart"),f({loading:!1,success:!0})},"undefined"!==typeof window&&(localStorage.removeItem("cart"),c())})).catch((function(e){console.log(e),f({loading:!1})}))})).catch((function(e){f(Object(j.a)(Object(j.a)({},p),{},{error:e.message}))}))},T=function(){m.push("/stepone")},A=function(){return Object(n.jsx)("div",{onBlur:function(){return f(Object(j.a)(Object(j.a)({},p),{},{error:""}))},children:null!==p.clientToken&&t.length>0?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"gorm-group mb-3",children:[Object(n.jsx)("label",{className:"text-muted",children:"Delivery address:"}),Object(n.jsx)("textarea",{onChange:w,className:"form-control",value:p.address,placeholder:"Type your delivery address here ..."})]}),Object(n.jsx)(H.a,{options:{authorization:p.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return p.instance=e}}),Object(n.jsx)("button",{onClick:P,className:"btn btn-success btn-block",children:"Pay"}),Object(n.jsx)("button",{onClick:T,className:"btn btn-success btn-block",children:"Checkout"})]}):null})};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:["Total: $",C()]}),(S=p.loading,S&&Object(n.jsx)("h2",{children:"Loading..."})),(y=p.success,Object(n.jsx)("div",{className:"alert alert-info",style:{display:y?"":"none"},children:"Thanks! Your payment was successful!"})),(v=p.error,Object(n.jsx)("div",{className:"alert alert-danger",style:{display:v?"":"none"},children:v})),b()?Object(n.jsx)("div",{children:A()}):Object(n.jsx)(o.b,{to:"/signin",children:Object(n.jsx)("button",{className:"btn btn-primary",children:"Sign in to checkout"})})]})},Q=function(){var e=Object(i.g)(),t=Object(r.useState)([]),c=Object(d.a)(t,2),a=c[0],s=c[1],l=Object(r.useState)(!1),j=Object(d.a)(l,2),u=j[0];j[1];Object(r.useEffect)((function(){s(m())}),[u]);return Object(n.jsx)(p,{title:"Shopping Cart",description:"Manage your cart items. Add remove checkout or continue shopping",className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-6",children:a.length>0?function(e){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h2",{children:["Your cart has ","".concat(e.length)]}),Object(n.jsx)("hr",{}),e.map((function(e,t){return Object(n.jsx)(P,{product:e,showAddToCartButton:!1,cartUpdate:!0,showRemoveProductButton:!0},t)}))]})}(a):Object(n.jsxs)("h2",{children:["Your cart is empty. ",Object(n.jsx)("br",{})," ",Object(n.jsx)(o.b,{to:"/shop",children:"Continue shopping"})," "]})}),Object(n.jsxs)("div",{className:"col-6",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Your cart summary"}),Object(n.jsx)("hr",{}),Object(n.jsx)(V,{products:a})]}),Object(n.jsx)("button",{onClick:function(){e.push("/stepone")},className:"btn btn-success btn-block",children:"Checkout"})]})})},Z=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)([]),o=Object(d.a)(s,2),i=o[0],l=o[1],j=b(),m=j.user,h=j.token,O=function(){(function(e,t){return fetch("".concat(u,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(m._id,h).then((function(e){e.error?console.log(e.error):a(e)}))},f=function(){(function(e,t){return fetch("".concat(u,"/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(m._id,h).then((function(e){e.error?console.log(e.error):l(e)}))};Object(r.useEffect)((function(){O(),f()}),[]);var x=function(e,t){return Object(n.jsxs)("div",{className:"input-group mb-2 mb-sm-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("div",{className:"input-group-text",children:e})}),Object(n.jsx)("input",{type:"text",value:t,className:"form-control",readOnly:!0})]})},g=function(e,t){(function(e,t,c,n){return fetch("".concat(u,"/order/").concat(c,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:n,orderId:c})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(m._id,h,t,e.target.value).then((function(e){e.error?console.log("Status update failed"):O()}))},N=function(e){return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsxs)("h3",{className:"mark mb-4",children:["Status: ",e.status]}),Object(n.jsxs)("select",{className:"form-control",onChange:function(t){return g(t,e._id)},children:[Object(n.jsx)("option",{children:"Update Status"}),i.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))]})]})};return Object(n.jsx)(p,{title:"Orders",description:"G'day ".concat(m.name,", you can manage all the orders here"),children:Object(n.jsxs)("div",{className:"col-md-8 offset-md-2",children:[c.length>0?Object(n.jsxs)("h1",{className:"text-danger display-2",children:["Total orders: ",c.length]}):Object(n.jsx)("h1",{className:"text-danger",children:"No orders"}),c.map((function(e,t){return Object(n.jsxs)("div",{className:"mt-5",style:{borderBottom:"5px solid indigo"},children:[Object(n.jsx)("h2",{className:"mb-5",children:Object(n.jsxs)("span",{className:"bg-primary",children:["Order ID: ",e._id]})}),Object(n.jsxs)("ul",{className:"list-group mb-2",children:[Object(n.jsx)("li",{className:"list-group-item",children:N(e)}),Object(n.jsxs)("li",{className:"list-group-item",children:["Transaction ID: $",e.transaction_id]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Amount: ",e.amount]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Ordered by: ",e.user.name]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Ordered on: ",k()(e.createdAt).fromNow()]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Delivery address: ",e.address]})]}),Object(n.jsxs)("h3",{className:"mt-4 mb-4 font-italic",children:["Total products in order:",e.products.length]}),e.products.map((function(e,t){return Object(n.jsxs)("div",{className:"mb-4",style:{padding:"20px",border:"1px solid indigo"},children:[x("Product name",e.name),x("Product price",e.price),x("Product total",e.count),x("Product Id",e._id)]},t)}))]},t)}))]})})},K=function(e){var t=e.match,c=Object(r.useState)({name:"",email:"",password:"",error:!1,success:!1}),a=Object(d.a)(c,2),s=a[0],o=a[1],m=b().token,h=s.name,O=s.email,f=s.password,x=(s.error,s.success),g=function(e){(function(e,t){return fetch("".concat(u,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,m).then((function(e){e.error?o(Object(j.a)(Object(j.a)({},s),{},{error:!0})):o(Object(j.a)(Object(j.a)({},s),{},{name:e.name,email:e.email}))}))};Object(r.useEffect)((function(){g(t.params.userId)}),[]);var N=function(e){return function(t){o(Object(j.a)(Object(j.a)({},s),{},Object(l.a)({error:!1},e,t.target.value)))}},v=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(u,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.userId,m,{name:h,email:O,password:f}).then((function(e){e.error?console.log(e.error):function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var c=JSON.parse(localStorage.getItem("jwt"));c.user=e,localStorage.setItem("jwt",JSON.stringify(c)),t()}}(e,(function(){o(Object(j.a)(Object(j.a)({},s),{},{name:e.name,email:e.email,success:!0}))}))}))};return Object(n.jsxs)(p,{title:"Profile",description:"Update your profile",className:"container-fluid",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Profile update"}),function(e,t,c){return Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",onChange:N("name"),className:"form-control",value:e})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Email"}),Object(n.jsx)("input",{type:"email",onChange:N("email"),className:"form-control",value:t})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Password"}),Object(n.jsx)("input",{type:"password",onChange:N("password"),className:"form-control",value:c}),Object(n.jsx)("button",{onClick:v,className:"btn btn-primary",children:"Submit"})]})]})}(h,O,f),function(e){if(e)return Object(n.jsx)(i.a,{to:"/cart"})}(x)]})},X=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=b(),i=s.user,l=s.token,j=function(){fetch("".concat(u,"/products?limit=undefined"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?console.log(e.error):a(e)}))},m=function(e){(function(e,t,c){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,i._id,l).then((function(e){e.error?console.log(e.error):j()}))};return Object(r.useEffect)((function(){j()}),[]),Object(n.jsx)(p,{title:"Manage Products",description:"Perform CRUD on products",className:"container-fluid",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12",children:[Object(n.jsxs)("h2",{className:"text-center",children:["Total ",c.length," products"]}),Object(n.jsx)("hr",{}),Object(n.jsx)("ul",{className:"list-group",children:c.map((function(e,t){return Object(n.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(n.jsx)("strong",{children:e.name}),Object(n.jsx)(o.b,{to:"/admin/product/update/".concat(e._id),children:Object(n.jsx)("span",{className:"badge badge-warning badge-pill",children:"Update"})}),Object(n.jsx)("span",{onClick:function(){return m(e._id)},className:"badge badge-danger badge-pill",children:"Delete"})]},t)}))})]})})})},ee=function(e){var t=e.match,c=Object(r.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",loading:!1,error:!1,createdProduct:"",redirectToProfile:!1,formData:""}),a=Object(d.a)(c,2),s=a[0],o=a[1],m=Object(r.useState)([]),h=Object(d.a)(m,2),O=h[0],f=h[1],x=b(),g=x.user,N=x.token,v=s.name,y=s.description,S=s.price,w=(s.category,s.shipping,s.quantity),C=s.loading,k=s.error,P=s.createdProduct,T=s.redirectToProfile,A=s.formData,_=function(e){(function(e){return console.log(e),fetch("".concat(u,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?o(Object(j.a)(Object(j.a)({},s),{},{error:e.error})):(console.log(e),o(Object(j.a)(Object(j.a)({},s),{},{name:e.name,description:e.description,price:e.price,category:e.category._id,shipping:e.shipping,quantity:e.quantity,formData:new FormData})),E())}))},E=function(){F().then((function(e){e.error?o(Object(j.a)(Object(j.a)({},s),{},{error:e.error})):f(e)}))};Object(r.useEffect)((function(){_(t.params.productId)}),[]);var I=function(e){return function(t){var c="photo"===e?t.target.files[0]:t.target.value;A.set(e,c),o(Object(j.a)(Object(j.a)({},s),{},Object(l.a)({},e,c)))}},D=function(e){e.preventDefault(),o(Object(j.a)(Object(j.a)({},s),{},{error:"",loading:!0})),function(e,t,c,n){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,g._id,N,A).then((function(e){e.error?o(Object(j.a)(Object(j.a)({},s),{},{error:e.error})):o(Object(j.a)(Object(j.a)({},s),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name}))}))};return Object(n.jsx)(p,{title:"Add a new product",description:"G'day ".concat(g.name,", ready to add a new product?"),children:Object(n.jsxs)("div",{className:"col-md-8 offset-md-2",children:[C&&Object(n.jsx)("div",{className:"alert alert-success",children:Object(n.jsx)("h2",{children:"Loading ..."})}),Object(n.jsx)("div",{className:"alert alert-info",style:{display:P?"":"none"},children:Object(n.jsxs)("h2",{children:["".concat(P)," is updated"]})}),Object(n.jsx)("div",{className:"alert alert-danger",style:{display:k?"":"none"},children:k}),Object(n.jsxs)("form",{className:"mb-3",onSubmit:D,children:[Object(n.jsx)("h4",{children:"Post Photo"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("label",{className:"btn btn-secondary",children:Object(n.jsx)("input",{onChange:I("photo"),type:"file",name:"photo",accept:"image/*"})})}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{onChange:I("name"),type:"text",className:"form-control",value:v})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Description"}),Object(n.jsx)("textarea",{onChange:I("description"),className:"form-control",value:y})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Price"}),Object(n.jsx)("input",{onChange:I("price"),type:"number",className:"form-control",value:S})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Category"}),Object(n.jsxs)("select",{onChange:I("category"),className:"form-control",children:[Object(n.jsx)("option",{children:"Please select"}),O&&O.map((function(e,t){return Object(n.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Shipping"}),Object(n.jsxs)("select",{onChange:I("shipping"),className:"form-control",children:[Object(n.jsx)("option",{children:"Please select"}),Object(n.jsx)("option",{value:"0",children:"No"}),Object(n.jsx)("option",{value:"1",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Quantity"}),Object(n.jsx)("input",{onChange:I("quantity"),type:"number",className:"form-control",value:w})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Update Product"})]}),function(){if(T&&!k)return Object(n.jsx)(i.a,{to:"/"})}()]})})},te=function(){var e=Object(i.g)(),t=function(){e.push("/steptwo")};return Object(n.jsx)(p,{title:"Welcome to checkout screen",description:"Did you find everything you are looking for?",children:Object(n.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(n.jsxs)("form",{className:"mb-3",children:[Object(n.jsx)("h4",{children:"Enter your address"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Street"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Room Number"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"City"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"State"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Country"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Zip Code"}),Object(n.jsx)("input",{type:"text",className:"form-control"})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",onClick:t,children:"Go to Step 2"})]})})})},ce=[{_id:0,name:"Free",value:0},{_id:1,name:"basic ($5 extra)",value:5},{_id:2,name:"Express ($10 extra)",value:10}],ne=function(){var e=Object(i.g)(),t=function(){e.push("/stepthree")};return Object(n.jsx)(p,{title:"Welcome to checkout screen",description:"Did you find everything you are looking for?",children:Object(n.jsxs)("div",{className:"col-md-8 offset-md-2",children:[Object(n.jsx)("form",{className:"mb-3",children:Object(n.jsx)("button",{className:"btn btn-outline-primary",onClick:t,children:"Go to Step 3"})}),"What services would you prefer?",Object(n.jsx)(I,{prices:ce})]})})},re=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(!1),o=Object(d.a)(s,2),i=o[0];o[1];return Object(r.useEffect)((function(){a(m())}),[i]),Object(n.jsx)(p,{title:"Shopping Cart",description:"Manage your cart items. Add remove checkout or continue shopping",className:"container-fluid",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-6",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Your cart summary"}),Object(n.jsx)("hr",{}),Object(n.jsx)(V,{products:c})]})})})},ae=function(){return Object(n.jsx)(p,{title:"Welcome to checkout screen",description:"Did you find everything you are looking for?"})},se=function(e){return Object(n.jsxs)("div",{className:"card mb-5",children:[Object(n.jsx)("h3",{className:"card-header",children:"Purchase History"}),Object(n.jsx)("ul",{className:"list-group",children:Object(n.jsx)("li",{className:"list-group-item",children:e.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{}),e.products.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h6",{children:["Product name: ",e.name]}),Object(n.jsxs)("h6",{children:["Product price: $",e.price]}),Object(n.jsxs)("h6",{children:["Product date: "," ",k()(e.createdAt).fromNow()]})]},t)}))]})}))})})]})},oe=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=b().user,o=s._id,i=(s.name,s.email,s.role,b().token);return Object(r.useEffect)((function(){!function(e,t){U(e,t).then((function(e){e.error?console.log(e.error):a(e)}))}(o,i)}),[]),Object(n.jsx)(p,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Purchase History"}),se(c)]})})},ie=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{path:"/",exact:!0,component:G}),Object(n.jsx)(i.b,{path:"/shop",exact:!0,component:B}),Object(n.jsx)(i.b,{path:"/signin",exact:!0,component:x}),Object(n.jsx)(i.b,{path:"/signup",exact:!0,component:f}),Object(n.jsx)(i.b,{path:"/stepone",exact:!0,component:te}),Object(n.jsx)(i.b,{path:"/steptwo",exact:!0,component:ne}),Object(n.jsx)(i.b,{path:"/stepthree",exact:!0,component:re}),Object(n.jsx)(i.b,{path:"/stepfour",exact:!0,component:ae}),Object(n.jsx)(z,{path:"/user/dashboard",exact:!0,component:q}),Object(n.jsx)(R,{path:"/admin/dashboard",exact:!0,component:$}),Object(n.jsx)(R,{path:"/create/category",exact:!0,component:L}),Object(n.jsx)(R,{path:"/create/product",exact:!0,component:W}),Object(n.jsx)(i.b,{path:"/product/:productId",exact:!0,component:M}),Object(n.jsx)(i.b,{path:"/cart",exact:!0,component:Q}),Object(n.jsx)(R,{path:"/admin/orders",exact:!0,component:Z}),Object(n.jsx)(z,{path:"/profile/:userId",exact:!0,component:K}),Object(n.jsx)(z,{path:"/history/:userId",exact:!0,component:oe}),Object(n.jsx)(R,{path:"/admin/products",exact:!0,component:X}),Object(n.jsx)(R,{path:"/admin/product/update/:productId",exact:!0,component:ee})]})})};s.a.render(Object(n.jsx)(ie,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9a16a770.chunk.js.map